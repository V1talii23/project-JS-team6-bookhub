{"version":3,"file":"index.js","sources":["../src/js/animation.js","../src/js/contact-modal.js","../src/js/header.js","../src/js/hero.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/events.js","../src/js/shopping-list.js","../src/js/modal-window-books.js","../src/js/scroll-top.js"],"sourcesContent":["// Функція для анімації появи блоків .section\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const delayTimeMs = 200;\n  // Створюємо екземпляр IntersectionObserver який визначатиме чи видно дану секцію\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry, index) => {\n        if (entry.isIntersecting) {\n          // Додаємо затримку показу для кожного блоку аби вони зʼявлялись один за одним\n          setTimeout(() => entry.target.classList.add(\"visible\"), index * delayTimeMs);\n\n          observer.unobserve(entry.target);\n        }\n      });\n    },\n    { threshold: 0.2 }\n  );\n  // Додаємо усі секції до екземпляра IntersectionObserver створеного вище\n  document.querySelectorAll(\".section\").forEach((section) => observer.observe(section));\n});","import iziToast from 'izitoast';\nconst modal = document.querySelector('.contact-modal');\nconst openBtns = document.querySelectorAll('.open-modal');\nconst closeBtn = modal.querySelector('.close-modal');\nconst scrollBody = document.body.style;\nconst scrollHtml = document.documentElement.style;\n\nopenBtns.forEach(btn => {\n  btn.addEventListener('click', () => {\n    const category = btn.closest('.category')?.dataset.category || 'Default';\n    const categoryTitle = modal.querySelector('.title');\n    categoryTitle.textContent = category;\n\n    modal.classList.add('is-open');\n    removeScroll();\n  });\n});\n\ncloseBtn.addEventListener('click', () => {\n  closeModal();\n  addScroll();\n});\n\nmodal.addEventListener('click', e => {\n  if (!e.target.closest('.register-contact-modal')) {\n    closeModal();\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && modal.classList.contains('is-open')) {\n    closeModal();\n    addScroll();\n  }\n});\n\nconst form = modal.querySelector('form');\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const name = form.elements.name.value.trim();\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  if (!name || !email) {\n    return showToast('info', 'Please fill in all required fields.');\n  }\n  console.log('Form data:', { name, email, message: message || '' });\n\n  showToast('success', 'Your message has been sent!');\n\n  closeModal();\n  addScroll();\n  form.reset();\n});\n\nfunction removeScroll() {\n  scrollBody.overflow = 'hidden';\n  scrollHtml.overflow = 'hidden';\n}\n\nfunction addScroll() {\n  scrollBody.overflow = 'auto';\n  scrollHtml.overflow = 'auto';\n}\n\nfunction closeModal() {\n  modal.classList.remove('is-open');\n  addScroll();\n}\n\nfunction showToast(type = 'success', message = '') {\n  iziToast[type]({\n    icon: '',\n    message: message,\n    close: false,\n    backgroundColor: type === 'info' ? '#0b0500' : '#e15d05',\n    messageColor: '#ffffff',\n    timeout: 3000,\n    zindex: 9999,\n    progressBar: 'false',\n    position: type === 'success' ? 'topRight' : 'bottomCenter',\n    width: 400,\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n  });\n}\n\nexport { removeScroll, addScroll, showToast };\n","import { addScroll, removeScroll } from './contact-modal';\nconst modalWindow = document.querySelector('.mobile-menu');\nconst openModalBtn = document.querySelector('.btn-burger');\nconst closeModalBtn = document.querySelector('.close-header-btn');\nconst navLinks = Array.from(document.querySelectorAll('.mobile-nav-link'));\n\nconst toggleModal = () => modalWindow.classList.toggle('is-open');\n\nopenModalBtn.addEventListener('click', () => {\n  removeScroll();\n  toggleModal();\n});\n\ncloseModalBtn.addEventListener('click', () => {\n  addScroll();\n  toggleModal();\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && modalWindow.classList.contains('is-open')) {\n    toggleModal();\n    addScroll();\n  }\n});\n\nnavLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    addScroll();\n    toggleModal();\n  });\n});\n","const slides = document.querySelectorAll('.slide');\nconst prevBtn = document.querySelector('.hero-swiper-btn-prev');\nconst nextBtn = document.querySelector('.hero-swiper-btn-next');\n\nlet current = 0;\n\nfunction showSlide(index) {\n  slides.forEach((slide, i) => {\n    slide.classList.remove('active');\n    slide.setAttribute('aria-hidden', 'true');\n    if (i === index) {\n      slide.classList.add('active');\n      slide.setAttribute('aria-hidden', 'false');\n    }\n  });\n}\n\nfunction updateButtons() {\n  if (!prevBtn || !nextBtn) return;\n\n  prevBtn.disabled = current === 0;\n  prevBtn.classList.toggle('arrow--disabled', current === 0);\n\n  nextBtn.disabled = current === slides.length - 1;\n  nextBtn.classList.toggle('arrow--disabled', current === slides.length - 1);\n}\n\nfunction flashButton(button) {\n  if (button.disabled) return;\n  button.classList.add('is-active');\n  button.blur();\n  setTimeout(() => {\n    button.classList.remove('is-active');\n  }, 100);\n}\n\nif (slides.length > 0 && prevBtn && nextBtn) {\n  showSlide(current);\n  updateButtons();\n\n  prevBtn.addEventListener('click', () => {\n    if (current > 0) {\n      current = current - 1;\n      showSlide(current);\n      updateButtons();\n      flashButton(prevBtn);\n    }\n  });\n\n  nextBtn.addEventListener('click', () => {\n    if (current < slides.length - 1) {\n      current = current + 1;\n      showSlide(current);\n      updateButtons();\n      flashButton(nextBtn);\n    }\n  });\n}\n","import s from 'accordion-js';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global';\n\nconst booksListContainer = document.querySelector('.books-list');\nconst booksShowCounter = document.querySelector('.books-show-counter');\n\nconst categoriesContainer = document.querySelector('#categories-container');\n\nconst showMoreBtn = document.querySelector('#page-next');\n\nconst booksLoader = document.querySelector('#books-loader');\nconst categoriesLoader = document.querySelector('#categories-loader');\n\nconst mobileBooksLimit = 10;\nconst desktopBooksLimit = 24;\nconst booksPerPage = 4;\n\nlet page = 0;\nlet books = [];\nlet categories = [];\nlet currentDevice = getDeviceType();\n\nasync function getBooksCategoryList() {\n  try {\n    const response = await axios.get('/books/category-list');\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function getTopBooks() {\n  try {\n    const response = await axios.get('/books/top-books');\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function getBooksByCategory(category) {\n  try {\n    const response = await axios.get(\n      `/books/category/?category=${encodeURIComponent(category)}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error.response.data.message || error.message);\n  }\n}\n\n// Test id: '65fc3c9da957e5c1ae05b741'\nexport async function getBooksById(id) {\n  try {\n    const response = await axios.get(`/books/${id}`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction getDeviceType() {\n  const width = window.innerWidth;\n\n  if (width < 768) {\n    return 'mobile';\n  } else if (width >= 768 && width < 1440) {\n    return 'tablet';\n  } else {\n    return 'desktop';\n  }\n}\n\nfunction renderSelectCategoriesMarkup(arr) {\n  const defaultOption = `<option value=\"\" disabled selected>Categories</option>`;\n  const allOption = `<option value=\"All categories\">All categories</option>`;\n  const markup = arr\n    .map(({ list_name }) => {\n      if (list_name !== '') {\n        return `<option value=\"${list_name}\">${list_name}</option>`;\n      } else {\n        return '';\n      }\n    })\n    .join('');\n  categoriesContainer.innerHTML = `<select class =\"books-categories-select\" name=\"categories\" id=\"categories-select\">${\n    defaultOption + allOption + markup\n  }</select>`;\n}\n\nfunction renderListCategoriesMarkup(arr) {\n  const allArr = [{ list_name: 'All categories' }, ...arr];\n  const markup = allArr\n    .map(({ list_name }) => {\n      if (list_name !== '') {\n        return `<li class=\"categories-item\" ><a class=\"category-link\" data-category-name=\"${list_name}\">${list_name}</a></li>`;\n      } else {\n        return '';\n      }\n    })\n    .join('');\n  categoriesContainer.innerHTML = `<ul class=\"categories-list\">${markup}</ul>`;\n}\n\nfunction renderBooksListMarkup(books) {\n  booksListContainer.innerHTML = books\n    .map(\n      ({ _id, book_image, title, author, price }) => `\n        <li class=\"books-item\" data-id=${_id}>\n          <img class=\"books-image\" src=\"${book_image}\" alt=\"${title}\" />\n          <div class=\"books-list-group\">\n          <div class=\"books-list-section\"><h4 class=\"books-list-title\">${title}</h4>\n          <p class=\"books-list-author\">${author}</p>\n          </div>\n          <p class=\"books-list-price\">$${price}</p>\n          </div>\n          <button class=\"btn learn-more-btn\" data-id=${_id} type=\"button\">Learn More</button>\n        </li>\n      `\n    )\n    .join('');\n}\n\nfunction renderView() {\n  displayBookPage();\n  displayCategoriesByDevice();\n}\n\nfunction reRenderView() {\n  const newDevice = getDeviceType();\n  if (newDevice !== currentDevice) {\n    currentDevice = newDevice;\n    renderView(currentDevice);\n  }\n}\n\nfunction renderShowCounter(current, total) {\n  booksShowCounter.innerHTML = `Showing ${current} of ${total}`;\n}\n\nasync function displayCategories() {\n  showCategoriesLoader();\n  try {\n    categories = await getBooksCategoryList();\n    displayCategoriesByDevice();\n  } catch (error) {\n  } finally {\n    hideCategoriesLoader();\n  }\n}\n\nfunction displayCategoriesByDevice() {\n  getDeviceType() === 'desktop'\n    ? renderListCategoriesMarkup(categories)\n    : renderSelectCategoriesMarkup(categories);\n}\n\nasync function displayBooksByCategory(category) {\n  showBooksLoader();\n  try {\n    books = await getBooksByCategory(category);\n    page = 0;\n    displayBookPage();\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    hideBooksLoader();\n  }\n}\n\nasync function displayTopBooks() {\n  showBooksLoader();\n  try {\n    const response = await getTopBooks();\n    books = response.flatMap(element => {\n      if (element.list_name !== '') {\n        return element.books;\n      } else {\n        return [];\n      }\n    });\n    page = 0;\n\n    displayBookPage();\n  } catch (error) { }\n  finally {\n    hideBooksLoader();\n  }\n}\n\nfunction displayBookPage() {\n  const startCount =\n    getDeviceType() === 'mobile' ? mobileBooksLimit : desktopBooksLimit;\n  const booksOnPage = books.slice(0, startCount + page * booksPerPage);\n  renderShowCounter(booksOnPage.length, books.length);\n  renderBooksListMarkup(booksOnPage);\n  updateButtonView(booksOnPage.length, books.length);\n}\n\nasync function handleCategory(category) {\n  if (category === 'All categories') {\n    displayTopBooks();\n  } else {\n    displayBooksByCategory(category);\n  }\n}\n\nasync function handleCategoryChange(event) {\n  if (event.target.id === 'categories-select') {\n    handleCategory(event.target.value);\n  }\n}\n\nfunction handleCategoryClick(event) {\n  if (event.target.classList.contains('category-link')) {\n    const category = event.target.dataset.categoryName;\n    handleCategory(category);\n  }\n}\n\nfunction handleShowMore() {\n  page++;\n  displayBookPage();\n}\n\nfunction updateButtonView(current, total) {\n  if (current < total) {\n    showMoreBtn.classList.remove('visually-hidden');\n  } else {\n    showMoreBtn.classList.add('visually-hidden');\n  }\n}\n\nfunction loadPage() {\n  displayCategories();\n  displayTopBooks();\n}\n\nfunction hideBooksLoader() {\n  if (!booksLoader.classList.contains('visually-hidden')) {\n    booksLoader.classList.add('visually-hidden');\n  }\n}\n\nfunction showBooksLoader() {\n   if (booksLoader.classList.contains('visually-hidden')) {\n    booksLoader.classList.remove('visually-hidden');\n  }\n}\n\nfunction hideCategoriesLoader() {\n  if (!categoriesLoader.classList.contains('visually-hidden')) {\n    categoriesLoader.classList.add('visually-hidden');\n  }\n}\n\nfunction showCategoriesLoader() {\n   if (categoriesLoader.classList.contains('visually-hidden')) {\n    categoriesLoader.classList.remove('visually-hidden');\n  }\n}\n\nloadPage();\n\ncategoriesContainer.addEventListener('change', handleCategoryChange);\nshowMoreBtn.addEventListener('click', handleShowMore);\ncategoriesContainer.addEventListener('click', handleCategoryClick);\nwindow.addEventListener('resize', reRenderView);\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard, A11y } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.feedbacks-slider', {\n  modules: [Navigation, Pagination, Keyboard, A11y],\n\n  slidesPerView: 1,\n  spaceBetween: 24,\n  loop: false,\n\n  navigation: {\n    nextEl: '.feedbacks-swiper-btn-next',\n    prevEl: '.feedbacks-swiper-btn-prev',\n    disabledClass: 'arrow--disabled',\n  },\n\n  pagination: {\n    el: '.feedbacks-swiper-pagination',\n    clickable: true,\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  a11y: {\n    enabled: true,\n    prevSlideMessage: 'Попередній відгук',\n    nextSlideMessage: 'Наступний відгук',\n  },\n\n  breakpoints: {\n    768: { slidesPerView: 2 },\n    1440: { slidesPerView: 3 },\n  },\n});\n\nfunction updateButtons() {\n  const prevBtn = document.querySelector('.feedbacks-swiper-btn-prev');\n  const nextBtn = document.querySelector('.feedbacks-swiper-btn-next');\n\n  prevBtn.disabled = feedbacksSwiper.isBeginning;\n  nextBtn.disabled = feedbacksSwiper.isEnd;\n\n  prevBtn.classList.toggle('arrow--disabled', feedbacksSwiper.isBeginning);\n  nextBtn.classList.toggle('arrow--disabled', feedbacksSwiper.isEnd);\n}\n\nupdateButtons();\n\nfeedbacksSwiper.on('slideChange', updateButtons);\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard, A11y } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst eventsSwiper = new Swiper('.events-swiper', {\n  modules: [Navigation, Pagination, Keyboard, A11y],\n\n  slidesPerView: 1,\n  spaceBetween: 16,\n  loop: false,\n\n  navigation: {\n    nextEl: '.events-swiper-btn-next',\n    prevEl: '.events-swiper-btn-prev',\n    disabledClass: 'arrow--disabled',\n  },\n\n  pagination: {\n    el: '.events-swiper-pagination',\n    clickable: true,\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  a11y: {\n    enabled: true,\n    prevSlideMessage: 'Попередні події',\n    nextSlideMessage: 'Наступні події',\n  },\n\n  breakpoints: {\n    768: { slidesPerView: 2 },\n    1440: { slidesPerView: 3 },\n  },\n});\n\n\nfunction updateButtons() {\n  const prevBtn = document.querySelector('.events-swiper-btn-prev');\n  const nextBtn = document.querySelector('.events-swiper-btn-next');\n\n  if (!prevBtn || !nextBtn) return;\n\n  prevBtn.disabled = eventsSwiper.isBeginning;\n  nextBtn.disabled = eventsSwiper.isEnd;\n\n  prevBtn.classList.toggle('arrow--disabled', eventsSwiper.isBeginning);\n  nextBtn.classList.toggle('arrow--disabled', eventsSwiper.isEnd);\n}\n\n\neventsSwiper.on('init', updateButtons);\n\neventsSwiper.on('slideChange', updateButtons);\n\n\nupdateButtons();\n","import s from 'accordion-js';\nimport { removeScroll, addScroll, showToast } from './contact-modal';\n\nconst shoppingListLink = document.querySelector('#shopping-list-link');\nconst mobileShoppingListLink = document.querySelector(\n  '#mobile-shopping-list-link'\n);\nconst shoppingListModal = document.querySelector('#shopping-list-backdrop');\nconst shoppingListCloseBtn = document.querySelector('#shopping-list-close');\n\nconst shoppingList = document.querySelector('#shopping-list');\n\nconst pagination = document.querySelector('.pagination');\n\nconst countCart = document.querySelector('#cart-count');\nconst mobileCountCart = document.querySelector('#mobile-cart-count');\n\nconst STORAGE_KEY = 'shoppingList';\nconst ITEMS_PER_PAGE = 4;\nlet currentPage = 1;\n\nexport function addToShoppingList(book) {\n  const currentShoppingList =\n    JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  const bookIndex = currentShoppingList.findIndex(\n    item => item._id === book._id\n  );\n  if (bookIndex !== -1) {\n    currentShoppingList[bookIndex].quantity += book.quantity;\n  } else {\n    currentShoppingList.push(book);\n  }\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(currentShoppingList));\n  updateCartCount();\n}\nexport function getPaginatedBooks() {\n  const allBooks = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  const totalPages = Math.ceil(allBooks.length / ITEMS_PER_PAGE);\n\n  // обмеження для безпечної навігації\n  if (currentPage > totalPages) currentPage = totalPages || 1;\n\n  const start = (currentPage - 1) * ITEMS_PER_PAGE;\n  const end = start + ITEMS_PER_PAGE;\n  const booksToRender = allBooks.slice(start, end);\n\n  renderBooks(booksToRender);\n  renderPagination(totalPages);\n}\n\nfunction renderBooks(books) {\n  if (!books.length) {\n    shoppingList.innerHTML = '<p>Ваш кошик порожній</p>';\n    return;\n  }\n\n  shoppingList.innerHTML = books\n    .map(\n      book => `\n        <li class =\"shopping-list-item\">\n            <img src=\"${book.book_image}\" alt=\"${book.title}\" width=\"50\" />\n            <h4 class=\"books-list-title\">${book.title}</h4>\n            <p class=\"books-list-author\">Author: ${book.author}</p>\n            <p class=\"books-list-price\">Price: $${book.price}</p>\n            <p class=\"books-list-price\">Quantity: ${book.quantity}</p>\n            <button class=\"btn remove-btn\" data-id=\"${book._id}\" aria-label=\"Remove ${book.title}\">Remove</button>\n        </li>\n    `\n    )\n    .join('');\n}\nfunction renderPagination(totalPages) {\n  if (totalPages <= 1) {\n    pagination.innerHTML = '';\n    return;\n  }\n\n  // Prev кнопка\n  const prevBtn = `<button class=\"shopping-pagin-btn prev-btn\" ${\n    currentPage === 1 ? 'disabled' : ''\n  }><svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8.70694 12.293L4.41394 7.99997H13.9999V5.99997H4.41394L8.70694 1.70697L7.29294 0.292969L0.585938 6.99997L7.29294 13.707L8.70694 12.293Z\" fill=\"currentColor\" />\n</svg></button>`;\n  // Next кнопка\n  const nextBtn = `<button class=\"shopping-pagin-btn next-btn\" ${\n    currentPage === totalPages ? 'disabled' : ''\n  }><svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M5.293 12.293L6.707 13.707L13.414 6.99997L6.707 0.292969L5.293 1.70697L9.586 5.99997H0V7.99997H9.586L5.293 12.293Z\" fill=\"currentColor\" />\n</svg></button>`;\n\n  pagination.innerHTML = prevBtn + nextBtn;\n}\nfunction paginationClickHandler(event) {\n  const totalPages = Math.ceil(\n    (JSON.parse(localStorage.getItem(STORAGE_KEY)) || []).length /\n      ITEMS_PER_PAGE\n  );\n\n  if (event.target.classList.contains('prev-btn') && currentPage > 1) {\n    currentPage--;\n    getPaginatedBooks();\n  } else if (\n    event.target.classList.contains('next-btn') &&\n    currentPage < totalPages\n  ) {\n    currentPage++;\n    getPaginatedBooks();\n  }\n}\n\nfunction removeBookHandler(event) {\n  if (!event.target.classList.contains('remove-btn')) return;\n\n  const id = event.target.dataset.id;\n  let books = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  books = books.filter(book => book._id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(books));\n\n  getPaginatedBooks();\n  updateCartCount();\n}\nfunction paginationButtonHandler(event) {\n  if (event.target.classList.contains('page-btn')) {\n    currentPage = Number(event.target.dataset.page);\n    getPaginatedBooks();\n  } else if (event.target.classList.contains('prev-btn') && currentPage > 1) {\n    currentPage--;\n    getPaginatedBooks();\n  } else if (\n    event.target.classList.contains('next-btn') &&\n    currentPage < totalPages\n  ) {\n    currentPage++;\n    getPaginatedBooks();\n  }\n}\nfunction showShoppingList(event) {\n  event.preventDefault();\n  if (!shoppingListModal.classList.contains('is-open')) {\n    shoppingListModal.classList.add('is-open');\n    removeScroll();\n  }\n}\nfunction closeShoppingList() {\n  if (shoppingListModal.classList.contains('is-open')) {\n    shoppingListModal.classList.remove('is-open');\n    addScroll();\n  }\n}\n\nexport function updateCartCount() {\n  const books = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  const total = books.reduce((sum, book) => sum + (book.quantity || 1), 0);\n\n  if (countCart) countCart.textContent = total;\n  if (mobileCountCart) mobileCountCart.textContent = total;\n}\n\nfunction shoppingListCountHandler(event) {\n  const id = event.target.closest('.book-item')?.dataset.id;\n  if (!id) return;\n\n  let books = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\n  if (event.target.classList.contains('increase-btn')) {\n    const index = books.findIndex(b => b._id === id);\n    books[index].quantity += 1;\n  }\n\n  if (event.target.classList.contains('decrease-btn')) {\n    const index = books.findIndex(b => b._id === id);\n    if (books[index].quantity > 1) {\n      books[index].quantity -= 1;\n    } else {\n      books = books.filter(b => b._id !== id);\n    }\n  }\n\n  if (event.target.classList.contains('remove-btn')) {\n    books = books.filter(b => b._id !== id);\n  }\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(books));\n  getPaginatedBooks();\n  updateCartCount();\n}\n\nshoppingListLink.addEventListener('click', showShoppingList);\nmobileShoppingListLink.addEventListener('click', showShoppingList);\nshoppingListCloseBtn.addEventListener('click', closeShoppingList);\npagination.addEventListener('click', paginationClickHandler);\nshoppingList.addEventListener('click', removeBookHandler);\npagination.addEventListener('click', paginationButtonHandler);\nshoppingList.addEventListener('click', shoppingListCountHandler);\ndocument.addEventListener('DOMContentLoaded', () => {\n  getPaginatedBooks();\n  updateCartCount();\n});\n","//New version of js\n// import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import axios from 'axios';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { getBooksById } from './books';\nimport { removeScroll, addScroll, showToast } from './contact-modal';\nimport {\n  addToShoppingList,\n  getPaginatedBooks,\n  updateCartCount,\n} from './shopping-list';\nimport s from 'accordion-js';\n\nnew Accordion('.accordion-container', {\n  showMultiple: true,\n});\n\nconst booksList = document.querySelector('.books-list');\n\nconst modalForm = document.querySelector('#modal-form');\nconst modalBackdrop = document.querySelector('#modal-backdrop');\nconst modal = document.querySelector('.backdrop');\nconst modalContainer = document.querySelector('.modal-books-container');\nconst modalCloseBtn = document.querySelector('#modal-close');\n\nconst modalCover = document.querySelector('#modal-cover');\n\nconst modalTitle = document.querySelector('#modal-title');\nconst modalAuthor = document.querySelector('#modal-author');\nconst modalPrice = document.querySelector('#modal-price');\n\nconst acTextDescription = document.querySelector('.ac-text-description');\nconst acTextShipping = document.querySelector('.ac-text-shipping');\nconst acTextReturns = document.querySelector('.ac-text-returns');\n\nconst btnIncrease = document.querySelector('#increase');\nconst btnDecrease = document.querySelector('#decrease');\nconst inputQuantity = document.querySelector('#quantity');\nconst btnAddToCart = document.querySelector('#add-to-cart');\nconst btnBuyNow = document.querySelector('#buy-now');\n\nconst modalLoader = document.querySelector('#modal-books-loader');\n\nlet currentBookId = null;\nlet currentBookImg = null;\nlet currentBookTitle = null;\nlet currentBookAuthor = null;\nlet currentBookPrice = null;\n\nasync function learnMoreBtnHandler(event) {\n  const bookId = event.target.dataset.id;\n  if (!bookId) {\n    return;\n  }\n  try {\n    showModal();\n    showModalLoader();\n    const bookData = await getBooksById(bookId);\n    renderBookMarkup(bookData);\n    currentBookId = bookId;\n    currentBookImg = bookData.book_image;\n    currentBookTitle = bookData.title;\n    currentBookAuthor = bookData.author;\n    currentBookPrice = bookData.price;\n  } catch (error) {\n  } finally {\n    hideModalLoader();\n  }\n}\n\nfunction renderBookMarkup({ book_image, title, author, price, description }) {\n  // modalLeft.innerHTML = `<img id=\"modal-cover\" src=\"${book_image}\" alt=\"${title}\" />`;\n  modalCover.src = book_image;\n  modalCover.alt = title;\n  modalTitle.innerHTML = title;\n  modalAuthor.innerHTML = author;\n  modalPrice.innerHTML = `$${price}`;\n  acTextDescription.innerHTML = description;\n}\n\nfunction hideModal() {\n  if (modal.classList.contains('is-open')) {\n    modal.classList.remove('is-open');\n    addScroll();\n    currentBookId = null;\n  }\n}\n\nfunction showModal() {\n  if (!modal.classList.contains('is-open')) {\n    modal.classList.add('is-open');\n    removeScroll();\n    modalCloseBtn.focus();\n  }\n}\n\nfunction keyDownHandler(event) {\n  if (event.key === 'Escape') {\n    hideModal();\n  }\n}\nfunction btnIncreaseHandler() {\n  const currentValue = Number(inputQuantity.value);\n  inputQuantity.value = currentValue + 1;\n  if (Number(inputQuantity.value) > 1) {\n    btnDecrease.disabled = false;\n  }\n}\n\nfunction btnDecreaseHandler() {\n  const currentValue = Number(inputQuantity.value);\n  if (currentValue <= 1) return;\n  inputQuantity.value = currentValue - 1;\n  if (Number(inputQuantity.value) <= 1) {\n    btnDecrease.disabled = true;\n  }\n}\nfunction addToCartHandler() {\n  const quantity = Number(inputQuantity.value);\n  const book = {\n    _id: currentBookId,\n    quantity: quantity,\n    book_image: currentBookImg,\n    title: currentBookTitle,\n    author: currentBookAuthor,\n    price: currentBookPrice,\n  };\n  addToShoppingList(book);\n  getPaginatedBooks();\n  updateCartCount();\n  console.log('Added to cart', book);\n  showToast('info', 'Added to cart');\n}\n\nfunction buyNowHandler(event) {\n  event.preventDefault();\n  const quantity = Number(inputQuantity.value);\n  console.log('Thank you for your purchase', {\n    bookId: currentBookId,\n    quantity: quantity,\n  });\n  showToast('success', 'Thank you for your purchase');\n  hideModal();\n  addScroll();\n  modalForm.reset();\n}\n\nfunction hideModalLoader() {\n  if (!modalLoader.classList.contains('visually-hidden')) {\n    modalLoader.classList.add('visually-hidden');\n  }\n}\n\nfunction showModalLoader() {\n  if (modalLoader.classList.contains('visually-hidden')) {\n    modalLoader.classList.remove('visually-hidden');\n  }\n}\n\nbooksList.addEventListener('click', learnMoreBtnHandler);\nmodalCloseBtn.addEventListener('click', hideModal);\ndocument.addEventListener('keydown', keyDownHandler);\nmodalBackdrop.addEventListener('click', hideModal);\nmodalContainer.addEventListener('click', event => event.stopPropagation());\n\nbtnIncrease.addEventListener('click', btnIncreaseHandler);\nbtnDecrease.addEventListener('click', btnDecreaseHandler);\n\nbtnAddToCart.addEventListener('click', addToCartHandler);\nmodalForm.addEventListener('submit', buyNowHandler);\n","const scrollTopBtn = document.getElementById('scrollTopBtn');\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 300) {\n    scrollTopBtn.classList.add('show');\n    \n  } else {\n    scrollTopBtn.classList.remove('show');\n  }\n});\n\nscrollTopBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n  });\n});"],"names":["observer","entries","entry","index","section","modal","openBtns","closeBtn","scrollBody","scrollHtml","btn","category","_a","categoryTitle","removeScroll","closeModal","addScroll","form","name","email","message","showToast","type","iziToast","modalWindow","openModalBtn","closeModalBtn","navLinks","toggleModal","link","slides","prevBtn","nextBtn","current","showSlide","slide","i","updateButtons","flashButton","button","axios","booksListContainer","booksShowCounter","categoriesContainer","showMoreBtn","booksLoader","categoriesLoader","mobileBooksLimit","desktopBooksLimit","booksPerPage","page","books","categories","currentDevice","getDeviceType","getBooksCategoryList","error","getTopBooks","getBooksByCategory","getBooksById","id","width","renderSelectCategoriesMarkup","arr","defaultOption","allOption","markup","list_name","renderListCategoriesMarkup","renderBooksListMarkup","_id","book_image","title","author","price","renderView","displayBookPage","displayCategoriesByDevice","reRenderView","newDevice","renderShowCounter","total","displayCategories","showCategoriesLoader","hideCategoriesLoader","displayBooksByCategory","showBooksLoader","hideBooksLoader","displayTopBooks","element","startCount","booksOnPage","updateButtonView","handleCategory","handleCategoryChange","event","handleCategoryClick","handleShowMore","loadPage","feedbacksSwiper","Swiper","Navigation","Pagination","Keyboard","A11y","eventsSwiper","shoppingListLink","mobileShoppingListLink","shoppingListModal","shoppingListCloseBtn","shoppingList","pagination","countCart","mobileCountCart","STORAGE_KEY","ITEMS_PER_PAGE","currentPage","addToShoppingList","book","currentShoppingList","bookIndex","item","updateCartCount","getPaginatedBooks","allBooks","totalPages","start","end","booksToRender","renderBooks","renderPagination","paginationClickHandler","removeBookHandler","paginationButtonHandler","showShoppingList","closeShoppingList","sum","shoppingListCountHandler","b","Accordion","booksList","modalForm","modalBackdrop","modalContainer","modalCloseBtn","modalCover","modalTitle","modalAuthor","modalPrice","acTextDescription","btnIncrease","btnDecrease","inputQuantity","btnAddToCart","modalLoader","currentBookId","currentBookImg","currentBookTitle","currentBookAuthor","currentBookPrice","learnMoreBtnHandler","bookId","showModal","showModalLoader","bookData","renderBookMarkup","hideModalLoader","description","hideModal","keyDownHandler","btnIncreaseHandler","currentValue","btnDecreaseHandler","addToCartHandler","quantity","buyNowHandler","scrollTopBtn"],"mappings":"6yBACA,SAAS,iBAAiB,mBAAoB,IAAM,CAGlD,MAAMA,EAAW,IAAI,qBAClBC,GAAY,CACXA,EAAQ,QAAQ,CAACC,EAAOC,IAAU,CAC5BD,EAAM,iBAER,WAAW,IAAMA,EAAM,OAAO,UAAU,IAAI,SAAS,EAAGC,EAAQ,GAAW,EAE3EH,EAAS,UAAUE,EAAM,MAAM,EAEzC,CAAO,CACF,EACD,CAAE,UAAW,EAAK,CACtB,EAEE,SAAS,iBAAiB,UAAU,EAAE,QAASE,GAAYJ,EAAS,QAAQI,CAAO,CAAC,CACtF,CAAC,EClBD,MAAMC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,GAAW,SAAS,iBAAiB,aAAa,EAClDC,GAAWF,EAAM,cAAc,cAAc,EAC7CG,GAAa,SAAS,KAAK,MAC3BC,GAAa,SAAS,gBAAgB,MAE5CH,GAAS,QAAQI,GAAO,CACtBA,EAAI,iBAAiB,QAAS,IAAM,OAClC,MAAMC,IAAWC,EAAAF,EAAI,QAAQ,WAAW,IAAvB,YAAAE,EAA0B,QAAQ,WAAY,UACzDC,EAAgBR,EAAM,cAAc,QAAQ,EAClDQ,EAAc,YAAcF,EAE5BN,EAAM,UAAU,IAAI,SAAS,EAC7BS,GACJ,CAAG,CACH,CAAC,EAEDP,GAAS,iBAAiB,QAAS,IAAM,CACvCQ,IACAC,GACF,CAAC,EAEDX,EAAM,iBAAiB,QAAS,GAAK,CAC9B,EAAE,OAAO,QAAQ,yBAAyB,GAC7CU,GAEJ,CAAC,EAED,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAYV,EAAM,UAAU,SAAS,SAAS,IAC1DU,IACAC,IAEJ,CAAC,EAED,MAAMC,EAAOZ,EAAM,cAAc,MAAM,EACvCY,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAEhB,MAAMC,EAAOD,EAAK,SAAS,KAAK,MAAM,OAChCE,EAAQF,EAAK,SAAS,MAAM,MAAM,OAClCG,EAAUH,EAAK,SAAS,QAAQ,MAAM,OAE5C,GAAI,CAACC,GAAQ,CAACC,EACZ,OAAOE,EAAU,OAAQ,qCAAqC,EAEhE,QAAQ,IAAI,aAAc,CAAE,KAAAH,EAAM,MAAAC,EAAO,QAASC,GAAW,EAAE,CAAE,EAEjEC,EAAU,UAAW,6BAA6B,EAElDN,IACAC,IACAC,EAAK,MAAK,CACZ,CAAC,EAED,SAASH,GAAe,CACtBN,GAAW,SAAW,SACtBC,GAAW,SAAW,QACxB,CAEA,SAASO,GAAY,CACnBR,GAAW,SAAW,OACtBC,GAAW,SAAW,MACxB,CAEA,SAASM,GAAa,CACpBV,EAAM,UAAU,OAAO,SAAS,EAChCW,GACF,CAEA,SAASK,EAAUC,EAAO,UAAWF,EAAU,GAAI,CACjDG,GAASD,CAAI,EAAE,CACb,KAAM,GACN,QAASF,EACT,MAAO,GACP,gBAAiBE,IAAS,OAAS,UAAY,UAC/C,aAAc,UACd,QAAS,IACT,OAAQ,KACR,YAAa,QACb,SAAUA,IAAS,UAAY,WAAa,eAC5C,MAAO,IACP,aAAc,aACd,cAAe,WACnB,CAAG,CACH,CCrFA,MAAME,GAAc,SAAS,cAAc,cAAc,EACnDC,GAAe,SAAS,cAAc,aAAa,EACnDC,GAAgB,SAAS,cAAc,mBAAmB,EAC1DC,GAAW,MAAM,KAAK,SAAS,iBAAiB,kBAAkB,CAAC,EAEnEC,EAAc,IAAMJ,GAAY,UAAU,OAAO,SAAS,EAEhEC,GAAa,iBAAiB,QAAS,IAAM,CAC3CX,IACAc,GACF,CAAC,EAEDF,GAAc,iBAAiB,QAAS,IAAM,CAC5CV,IACAY,GACF,CAAC,EAED,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAYJ,GAAY,UAAU,SAAS,SAAS,IAChEI,IACAZ,IAEJ,CAAC,EAEDW,GAAS,QAAQE,GAAQ,CACvBA,EAAK,iBAAiB,QAAS,IAAM,CACnCb,IACAY,GACJ,CAAG,CACH,CAAC,EC9BD,MAAME,EAAS,SAAS,iBAAiB,QAAQ,EAC3CC,EAAU,SAAS,cAAc,uBAAuB,EACxDC,EAAU,SAAS,cAAc,uBAAuB,EAE9D,IAAIC,EAAU,EAEd,SAASC,EAAU/B,EAAO,CACxB2B,EAAO,QAAQ,CAACK,EAAOC,IAAM,CAC3BD,EAAM,UAAU,OAAO,QAAQ,EAC/BA,EAAM,aAAa,cAAe,MAAM,EACpCC,IAAMjC,IACRgC,EAAM,UAAU,IAAI,QAAQ,EAC5BA,EAAM,aAAa,cAAe,OAAO,EAE/C,CAAG,CACH,CAEA,SAASE,GAAgB,CACnB,CAACN,GAAW,CAACC,IAEjBD,EAAQ,SAAWE,IAAY,EAC/BF,EAAQ,UAAU,OAAO,kBAAmBE,IAAY,CAAC,EAEzDD,EAAQ,SAAWC,IAAYH,EAAO,OAAS,EAC/CE,EAAQ,UAAU,OAAO,kBAAmBC,IAAYH,EAAO,OAAS,CAAC,EAC3E,CAEA,SAASQ,EAAYC,EAAQ,CACvBA,EAAO,WACXA,EAAO,UAAU,IAAI,WAAW,EAChCA,EAAO,KAAI,EACX,WAAW,IAAM,CACfA,EAAO,UAAU,OAAO,WAAW,CACpC,EAAE,GAAG,EACR,CAEIT,EAAO,OAAS,GAAKC,GAAWC,IAClCE,EAAUD,CAAO,EACjBI,IAEAN,EAAQ,iBAAiB,QAAS,IAAM,CAClCE,EAAU,IACZA,EAAUA,EAAU,EACpBC,EAAUD,CAAO,EACjBI,IACAC,EAAYP,CAAO,EAEzB,CAAG,EAEDC,EAAQ,iBAAiB,QAAS,IAAM,CAClCC,EAAUH,EAAO,OAAS,IAC5BG,EAAUA,EAAU,EACpBC,EAAUD,CAAO,EACjBI,IACAC,EAAYN,CAAO,EAEzB,CAAG,GCrDHQ,EAAM,SAAS,QAAU,sCAEzB,MAAMC,GAAqB,SAAS,cAAc,aAAa,EACzDC,GAAmB,SAAS,cAAc,qBAAqB,EAE/DC,EAAsB,SAAS,cAAc,uBAAuB,EAEpEC,EAAc,SAAS,cAAc,YAAY,EAEjDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAmB,SAAS,cAAc,oBAAoB,EAE9DC,GAAmB,GACnBC,GAAoB,GACpBC,GAAe,EAErB,IAAIC,EAAO,EACPC,EAAQ,CAAA,EACRC,EAAa,CAAA,EACbC,EAAgBC,EAAa,EAEjC,eAAeC,IAAuB,CACpC,GAAI,CAEF,OADiB,MAAMf,EAAM,IAAI,sBAAsB,GACvC,IACjB,OAAQgB,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,eAAeC,IAAc,CAC3B,GAAI,CAEF,OADiB,MAAMjB,EAAM,IAAI,kBAAkB,GACnC,IACjB,OAAQgB,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,eAAeE,GAAmB/C,EAAU,CAC1C,GAAI,CAIF,OAHiB,MAAM6B,EAAM,IAC3B,6BAA6B,mBAAmB7B,CAAQ,CAAC,EAC/D,GACoB,IACjB,OAAQ6C,EAAO,CACd,QAAQ,IAAIA,EAAM,SAAS,KAAK,SAAWA,EAAM,OAAO,CACzD,CACH,CAGO,eAAeG,GAAaC,EAAI,CACrC,GAAI,CAEF,OADiB,MAAMpB,EAAM,IAAI,UAAUoB,CAAE,EAAE,GAC/B,IACjB,OAAQJ,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,SAASF,GAAgB,CACvB,MAAMO,EAAQ,OAAO,WAErB,OAAIA,EAAQ,IACH,SACEA,GAAS,KAAOA,EAAQ,KAC1B,SAEA,SAEX,CAEA,SAASC,GAA6BC,EAAK,CACzC,MAAMC,EAAgB,yDAChBC,EAAY,yDACZC,EAASH,EACZ,IAAI,CAAC,CAAE,UAAAI,KACFA,IAAc,GACT,kBAAkBA,CAAS,KAAKA,CAAS,YAEzC,EAEV,EACA,KAAK,EAAE,EACVxB,EAAoB,UAAY,qFAC9BqB,EAAgBC,EAAYC,CAC7B,WACH,CAEA,SAASE,GAA2BL,EAAK,CAEvC,MAAMG,EADS,CAAC,CAAE,UAAW,gBAAkB,EAAE,GAAGH,CAAG,EAEpD,IAAI,CAAC,CAAE,UAAAI,KACFA,IAAc,GACT,6EAA6EA,CAAS,KAAKA,CAAS,YAEpG,EAEV,EACA,KAAK,EAAE,EACVxB,EAAoB,UAAY,+BAA+BuB,CAAM,OACvE,CAEA,SAASG,GAAsBlB,EAAO,CACpCV,GAAmB,UAAYU,EAC5B,IACC,CAAC,CAAE,IAAAmB,EAAK,WAAAC,EAAY,MAAAC,EAAO,OAAAC,EAAQ,MAAAC,CAAK,IAAO;AAAA,yCACZJ,CAAG;AAAA,0CACFC,CAAU,UAAUC,CAAK;AAAA;AAAA,yEAEMA,CAAK;AAAA,yCACrCC,CAAM;AAAA;AAAA,yCAENC,CAAK;AAAA;AAAA,uDAESJ,CAAG;AAAA;AAAA,OAGrD,EACA,KAAK,EAAE,CACZ,CAEA,SAASK,IAAa,CACpBC,IACAC,IACF,CAEA,SAASC,IAAe,CACtB,MAAMC,EAAYzB,IACdyB,IAAc1B,IAChBA,EAAgB0B,EAChBJ,GAAwB,EAE5B,CAEA,SAASK,GAAkB/C,EAASgD,EAAO,CACzCvC,GAAiB,UAAY,WAAWT,CAAO,OAAOgD,CAAK,EAC7D,CAEA,eAAeC,IAAoB,CACjCC,KACA,GAAI,CACF/B,EAAa,MAAMG,KACnBsB,IACD,MAAe,CAClB,QAAY,CACRO,IACD,CACH,CAEA,SAASP,IAA4B,CACnCvB,EAAe,IAAK,UAChBc,GAA2BhB,CAAU,EACrCU,GAA6BV,CAAU,CAC7C,CAEA,eAAeiC,GAAuB1E,EAAU,CAC9C2E,KACA,GAAI,CACFnC,EAAQ,MAAMO,GAAmB/C,CAAQ,EACzCuC,EAAO,EACP0B,GACD,OAAQpB,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC7B,QAAY,CACR+B,IACD,CACH,CAEA,eAAeC,IAAkB,CAC/BF,KACA,GAAI,CAEFnC,GADiB,MAAMM,MACN,QAAQgC,GACnBA,EAAQ,YAAc,GACjBA,EAAQ,MAER,EAEV,EACDvC,EAAO,EAEP0B,GACJ,MAAkB,CAAG,QACX,CACNW,IACD,CACH,CAEA,SAASX,GAAkB,CACzB,MAAMc,EACJpC,MAAoB,SAAWP,GAAmBC,GAC9C2C,EAAcxC,EAAM,MAAM,EAAGuC,EAAaxC,EAAOD,EAAY,EACnE+B,GAAkBW,EAAY,OAAQxC,EAAM,MAAM,EAClDkB,GAAsBsB,CAAW,EACjCC,GAAiBD,EAAY,OAAQxC,EAAM,MAAM,CACnD,CAEA,eAAe0C,GAAelF,EAAU,CAClCA,IAAa,iBACf6E,KAEAH,GAAuB1E,CAAQ,CAEnC,CAEA,eAAemF,GAAqBC,EAAO,CACrCA,EAAM,OAAO,KAAO,qBACtBF,GAAeE,EAAM,OAAO,KAAK,CAErC,CAEA,SAASC,GAAoBD,EAAO,CAClC,GAAIA,EAAM,OAAO,UAAU,SAAS,eAAe,EAAG,CACpD,MAAMpF,EAAWoF,EAAM,OAAO,QAAQ,aACtCF,GAAelF,CAAQ,CACxB,CACH,CAEA,SAASsF,IAAiB,CACxB/C,IACA0B,GACF,CAEA,SAASgB,GAAiB3D,EAASgD,EAAO,CACpChD,EAAUgD,EACZrC,EAAY,UAAU,OAAO,iBAAiB,EAE9CA,EAAY,UAAU,IAAI,iBAAiB,CAE/C,CAEA,SAASsD,IAAW,CAClBhB,KACAM,IACF,CAEA,SAASD,IAAkB,CACpB1C,EAAY,UAAU,SAAS,iBAAiB,GACnDA,EAAY,UAAU,IAAI,iBAAiB,CAE/C,CAEA,SAASyC,IAAkB,CACpBzC,EAAY,UAAU,SAAS,iBAAiB,GACnDA,EAAY,UAAU,OAAO,iBAAiB,CAElD,CAEA,SAASuC,IAAuB,CACzBtC,EAAiB,UAAU,SAAS,iBAAiB,GACxDA,EAAiB,UAAU,IAAI,iBAAiB,CAEpD,CAEA,SAASqC,IAAuB,CACzBrC,EAAiB,UAAU,SAAS,iBAAiB,GACxDA,EAAiB,UAAU,OAAO,iBAAiB,CAEvD,CAEAoD,KAEAvD,EAAoB,iBAAiB,SAAUmD,EAAoB,EACnElD,EAAY,iBAAiB,QAASqD,EAAc,EACpDtD,EAAoB,iBAAiB,QAASqD,EAAmB,EACjE,OAAO,iBAAiB,SAAUlB,EAAY,ECvQ9C,MAAMqB,EAAkB,IAAIC,EAAO,oBAAqB,CACtD,QAAS,CAACC,GAAYC,GAAYC,GAAUC,EAAI,EAEhD,cAAe,EACf,aAAc,GACd,KAAM,GAEN,WAAY,CACV,OAAQ,6BACR,OAAQ,6BACR,cAAe,iBAChB,EAED,WAAY,CACV,GAAI,+BACJ,UAAW,EACZ,EAED,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EAED,KAAM,CACJ,QAAS,GACT,iBAAkB,oBAClB,iBAAkB,kBACnB,EAED,YAAa,CACX,IAAK,CAAE,cAAe,CAAG,EACzB,KAAM,CAAE,cAAe,CAAG,CAC3B,CACH,CAAC,EAED,SAASnE,IAAgB,CACvB,MAAMN,EAAU,SAAS,cAAc,4BAA4B,EAC7DC,EAAU,SAAS,cAAc,4BAA4B,EAEnED,EAAQ,SAAWoE,EAAgB,YACnCnE,EAAQ,SAAWmE,EAAgB,MAEnCpE,EAAQ,UAAU,OAAO,kBAAmBoE,EAAgB,WAAW,EACvEnE,EAAQ,UAAU,OAAO,kBAAmBmE,EAAgB,KAAK,CACnE,CAEA9D,KAEA8D,EAAgB,GAAG,cAAe9D,EAAa,EChD/C,MAAMoE,EAAe,IAAIL,EAAO,iBAAkB,CAChD,QAAS,CAACC,GAAYC,GAAYC,GAAUC,EAAI,EAEhD,cAAe,EACf,aAAc,GACd,KAAM,GAEN,WAAY,CACV,OAAQ,0BACR,OAAQ,0BACR,cAAe,iBAChB,EAED,WAAY,CACV,GAAI,4BACJ,UAAW,EACZ,EAED,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EAED,KAAM,CACJ,QAAS,GACT,iBAAkB,kBAClB,iBAAkB,gBACnB,EAED,YAAa,CACX,IAAK,CAAE,cAAe,CAAG,EACzB,KAAM,CAAE,cAAe,CAAG,CAC3B,CACH,CAAC,EAGD,SAASnE,GAAgB,CACvB,MAAMN,EAAU,SAAS,cAAc,yBAAyB,EAC1DC,EAAU,SAAS,cAAc,yBAAyB,EAE5D,CAACD,GAAW,CAACC,IAEjBD,EAAQ,SAAW0E,EAAa,YAChCzE,EAAQ,SAAWyE,EAAa,MAEhC1E,EAAQ,UAAU,OAAO,kBAAmB0E,EAAa,WAAW,EACpEzE,EAAQ,UAAU,OAAO,kBAAmByE,EAAa,KAAK,EAChE,CAGAA,EAAa,GAAG,OAAQpE,CAAa,EAErCoE,EAAa,GAAG,cAAepE,CAAa,EAG5CA,EAAe,EC1Df,MAAMqE,GAAmB,SAAS,cAAc,qBAAqB,EAC/DC,GAAyB,SAAS,cACtC,4BACF,EACMC,EAAoB,SAAS,cAAc,yBAAyB,EACpEC,GAAuB,SAAS,cAAc,sBAAsB,EAEpEC,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAa,SAAS,cAAc,aAAa,EAEjDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAkB,SAAS,cAAc,oBAAoB,EAE7DC,EAAc,eACdC,EAAiB,EACvB,IAAIC,EAAc,EAEX,SAASC,GAAkBC,EAAM,CACtC,MAAMC,EACJ,KAAK,MAAM,aAAa,QAAQL,CAAW,CAAC,GAAK,GAC7CM,EAAYD,EAAoB,UACpCE,GAAQA,EAAK,MAAQH,EAAK,GAC9B,EACME,IAAc,GAChBD,EAAoBC,CAAS,EAAE,UAAYF,EAAK,SAEhDC,EAAoB,KAAKD,CAAI,EAE/B,aAAa,QAAQJ,EAAa,KAAK,UAAUK,CAAmB,CAAC,EACrEG,GACF,CACO,SAASC,GAAoB,CAClC,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQV,CAAW,CAAC,GAAK,GAC5DW,EAAa,KAAK,KAAKD,EAAS,OAAST,CAAc,EAGzDC,EAAcS,IAAYT,EAAcS,GAAc,GAE1D,MAAMC,GAASV,EAAc,GAAKD,EAC5BY,EAAMD,EAAQX,EACda,EAAgBJ,EAAS,MAAME,EAAOC,CAAG,EAE/CE,GAAYD,CAAa,EACzBE,GAAiBL,CAAU,CAC7B,CAEA,SAASI,GAAY9E,EAAO,CAC1B,GAAI,CAACA,EAAM,OAAQ,CACjB2D,EAAa,UAAY,4BACzB,MACD,CAEDA,EAAa,UAAY3D,EACtB,IACCmE,GAAQ;AAAA;AAAA,wBAEUA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA,2CAChBA,EAAK,KAAK;AAAA,mDACFA,EAAK,MAAM;AAAA,kDACZA,EAAK,KAAK;AAAA,oDACRA,EAAK,QAAQ;AAAA,sDACXA,EAAK,GAAG,wBAAwBA,EAAK,KAAK;AAAA;AAAA,KAG3F,EACA,KAAK,EAAE,CACZ,CACA,SAASY,GAAiBL,EAAY,CACpC,GAAIA,GAAc,EAAG,CACnBd,EAAW,UAAY,GACvB,MACD,CAGD,MAAMhF,EAAU,+CACdqF,IAAgB,EAAI,WAAa,EAClC;AAAA;AAAA,iBAIKpF,EAAU,+CACdoF,IAAgBS,EAAa,WAAa,EAC3C;AAAA;AAAA,iBAIDd,EAAW,UAAYhF,EAAUC,CACnC,CACA,SAASmG,GAAuBpC,EAAO,CACrC,MAAM8B,EAAa,KAAK,MACrB,KAAK,MAAM,aAAa,QAAQX,CAAW,CAAC,GAAK,CAAA,GAAI,OACpDC,CACN,EAEMpB,EAAM,OAAO,UAAU,SAAS,UAAU,GAAKqB,EAAc,GAC/DA,IACAO,KAEA5B,EAAM,OAAO,UAAU,SAAS,UAAU,GAC1CqB,EAAcS,IAEdT,IACAO,IAEJ,CAEA,SAASS,GAAkBrC,EAAO,CAChC,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,YAAY,EAAG,OAEpD,MAAMnC,EAAKmC,EAAM,OAAO,QAAQ,GAChC,IAAI5C,EAAQ,KAAK,MAAM,aAAa,QAAQ+D,CAAW,CAAC,GAAK,GAC7D/D,EAAQA,EAAM,OAAOmE,GAAQA,EAAK,MAAQ1D,CAAE,EAC5C,aAAa,QAAQsD,EAAa,KAAK,UAAU/D,CAAK,CAAC,EAEvDwE,IACAD,GACF,CACA,SAASW,GAAwBtC,EAAO,CAClCA,EAAM,OAAO,UAAU,SAAS,UAAU,GAC5CqB,EAAc,OAAOrB,EAAM,OAAO,QAAQ,IAAI,EAC9C4B,KACS5B,EAAM,OAAO,UAAU,SAAS,UAAU,GAAKqB,EAAc,GACtEA,IACAO,KAEA5B,EAAM,OAAO,UAAU,SAAS,UAAU,GAC1CqB,EAAc,aAEdA,IACAO,IAEJ,CACA,SAASW,GAAiBvC,EAAO,CAC/BA,EAAM,eAAc,EACfa,EAAkB,UAAU,SAAS,SAAS,IACjDA,EAAkB,UAAU,IAAI,SAAS,EACzC9F,IAEJ,CACA,SAASyH,IAAoB,CACvB3B,EAAkB,UAAU,SAAS,SAAS,IAChDA,EAAkB,UAAU,OAAO,SAAS,EAC5C5F,IAEJ,CAEO,SAAS0G,GAAkB,CAEhC,MAAMzC,GADQ,KAAK,MAAM,aAAa,QAAQiC,CAAW,CAAC,GAAK,IAC3C,OAAO,CAACsB,EAAKlB,IAASkB,GAAOlB,EAAK,UAAY,GAAI,CAAC,EAEnEN,IAAWA,EAAU,YAAc/B,GACnCgC,IAAiBA,EAAgB,YAAchC,EACrD,CAEA,SAASwD,GAAyB1C,EAAO,OACvC,MAAMnC,GAAKhD,EAAAmF,EAAM,OAAO,QAAQ,YAAY,IAAjC,YAAAnF,EAAoC,QAAQ,GACvD,GAAI,CAACgD,EAAI,OAET,IAAIT,EAAQ,KAAK,MAAM,aAAa,QAAQ+D,CAAW,CAAC,GAAK,GAE7D,GAAInB,EAAM,OAAO,UAAU,SAAS,cAAc,EAAG,CACnD,MAAM5F,EAAQgD,EAAM,UAAUuF,GAAKA,EAAE,MAAQ9E,CAAE,EAC/CT,EAAMhD,CAAK,EAAE,UAAY,CAC1B,CAED,GAAI4F,EAAM,OAAO,UAAU,SAAS,cAAc,EAAG,CACnD,MAAM5F,EAAQgD,EAAM,UAAUuF,GAAKA,EAAE,MAAQ9E,CAAE,EAC3CT,EAAMhD,CAAK,EAAE,SAAW,EAC1BgD,EAAMhD,CAAK,EAAE,UAAY,EAEzBgD,EAAQA,EAAM,OAAOuF,GAAKA,EAAE,MAAQ9E,CAAE,CAEzC,CAEGmC,EAAM,OAAO,UAAU,SAAS,YAAY,IAC9C5C,EAAQA,EAAM,OAAOuF,GAAKA,EAAE,MAAQ9E,CAAE,GAGxC,aAAa,QAAQsD,EAAa,KAAK,UAAU/D,CAAK,CAAC,EACvDwE,IACAD,GACF,CAEAhB,GAAiB,iBAAiB,QAAS4B,EAAgB,EAC3D3B,GAAuB,iBAAiB,QAAS2B,EAAgB,EACjEzB,GAAqB,iBAAiB,QAAS0B,EAAiB,EAChExB,EAAW,iBAAiB,QAASoB,EAAsB,EAC3DrB,EAAa,iBAAiB,QAASsB,EAAiB,EACxDrB,EAAW,iBAAiB,QAASsB,EAAuB,EAC5DvB,EAAa,iBAAiB,QAAS2B,EAAwB,EAC/D,SAAS,iBAAiB,mBAAoB,IAAM,CAClDd,IACAD,GACF,CAAC,ECtLD,IAAIiB,GAAU,uBAAwB,CACpC,aAAc,EAChB,CAAC,EAED,MAAMC,GAAY,SAAS,cAAc,aAAa,EAEhDC,GAAY,SAAS,cAAc,aAAa,EAChDC,GAAgB,SAAS,cAAc,iBAAiB,EACxDzI,EAAQ,SAAS,cAAc,WAAW,EAC1C0I,GAAiB,SAAS,cAAc,wBAAwB,EAChEC,GAAgB,SAAS,cAAc,cAAc,EAErDC,EAAa,SAAS,cAAc,cAAc,EAElDC,GAAa,SAAS,cAAc,cAAc,EAClDC,GAAc,SAAS,cAAc,eAAe,EACpDC,GAAa,SAAS,cAAc,cAAc,EAElDC,GAAoB,SAAS,cAAc,sBAAsB,EAChD,SAAS,cAAc,mBAAmB,EAC3C,SAAS,cAAc,kBAAkB,EAE/D,MAAMC,GAAc,SAAS,cAAc,WAAW,EAChDC,EAAc,SAAS,cAAc,WAAW,EAChDC,EAAgB,SAAS,cAAc,WAAW,EAClDC,GAAe,SAAS,cAAc,cAAc,EACxC,SAAS,cAAc,UAAU,EAEnD,MAAMC,EAAc,SAAS,cAAc,qBAAqB,EAEhE,IAAIC,EAAgB,KAChBC,GAAiB,KACjBC,GAAmB,KACnBC,GAAoB,KACpBC,GAAmB,KAEvB,eAAeC,GAAoBjE,EAAO,CACxC,MAAMkE,EAASlE,EAAM,OAAO,QAAQ,GACpC,GAAKkE,EAGL,GAAI,CACFC,KACAC,KACA,MAAMC,EAAW,MAAMzG,GAAasG,CAAM,EAC1CI,GAAiBD,CAAQ,EACzBT,EAAgBM,EAChBL,GAAiBQ,EAAS,WAC1BP,GAAmBO,EAAS,MAC5BN,GAAoBM,EAAS,OAC7BL,GAAmBK,EAAS,KAC7B,MAAe,CAClB,QAAY,CACRE,IACD,CACH,CAEA,SAASD,GAAiB,CAAE,WAAA9F,EAAY,MAAAC,EAAO,OAAAC,EAAQ,MAAAC,EAAO,YAAA6F,GAAe,CAE3EtB,EAAW,IAAM1E,EACjB0E,EAAW,IAAMzE,EACjB0E,GAAW,UAAY1E,EACvB2E,GAAY,UAAY1E,EACxB2E,GAAW,UAAY,IAAI1E,CAAK,GAChC2E,GAAkB,UAAYkB,CAChC,CAEA,SAASC,GAAY,CACfnK,EAAM,UAAU,SAAS,SAAS,IACpCA,EAAM,UAAU,OAAO,SAAS,EAChCW,IACA2I,EAAgB,KAEpB,CAEA,SAASO,IAAY,CACd7J,EAAM,UAAU,SAAS,SAAS,IACrCA,EAAM,UAAU,IAAI,SAAS,EAC7BS,IACAkI,GAAc,MAAK,EAEvB,CAEA,SAASyB,GAAe1E,EAAO,CACzBA,EAAM,MAAQ,UAChByE,GAEJ,CACA,SAASE,IAAqB,CAC5B,MAAMC,EAAe,OAAOnB,EAAc,KAAK,EAC/CA,EAAc,MAAQmB,EAAe,EACjC,OAAOnB,EAAc,KAAK,EAAI,IAChCD,EAAY,SAAW,GAE3B,CAEA,SAASqB,IAAqB,CAC5B,MAAMD,EAAe,OAAOnB,EAAc,KAAK,EAC3CmB,GAAgB,IACpBnB,EAAc,MAAQmB,EAAe,EACjC,OAAOnB,EAAc,KAAK,GAAK,IACjCD,EAAY,SAAW,IAE3B,CACA,SAASsB,IAAmB,CAC1B,MAAMC,EAAW,OAAOtB,EAAc,KAAK,EACrClC,EAAO,CACX,IAAKqC,EACL,SAAUmB,EACV,WAAYlB,GACZ,MAAOC,GACP,OAAQC,GACR,MAAOC,EACX,EACE1C,GAAkBC,CAAI,EACtBK,IACAD,IACA,QAAQ,IAAI,gBAAiBJ,CAAI,EACjCjG,EAAU,OAAQ,eAAe,CACnC,CAEA,SAAS0J,GAAchF,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAM+E,EAAW,OAAOtB,EAAc,KAAK,EAC3C,QAAQ,IAAI,8BAA+B,CACzC,OAAQG,EACR,SAAUmB,CACd,CAAG,EACDzJ,EAAU,UAAW,6BAA6B,EAClDmJ,IACAxJ,IACA6H,GAAU,MAAK,CACjB,CAEA,SAASyB,IAAkB,CACpBZ,EAAY,UAAU,SAAS,iBAAiB,GACnDA,EAAY,UAAU,IAAI,iBAAiB,CAE/C,CAEA,SAASS,IAAkB,CACrBT,EAAY,UAAU,SAAS,iBAAiB,GAClDA,EAAY,UAAU,OAAO,iBAAiB,CAElD,CAEAd,GAAU,iBAAiB,QAASoB,EAAmB,EACvDhB,GAAc,iBAAiB,QAASwB,CAAS,EACjD,SAAS,iBAAiB,UAAWC,EAAc,EACnD3B,GAAc,iBAAiB,QAAS0B,CAAS,EACjDzB,GAAe,iBAAiB,QAAShD,GAASA,EAAM,gBAAiB,CAAA,EAEzEuD,GAAY,iBAAiB,QAASoB,EAAkB,EACxDnB,EAAY,iBAAiB,QAASqB,EAAkB,EAExDnB,GAAa,iBAAiB,QAASoB,EAAgB,EACvDhC,GAAU,iBAAiB,SAAUkC,EAAa,EC3KlD,MAAMC,EAAe,SAAS,eAAe,cAAc,EAE3D,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,QAAU,IACnBA,EAAa,UAAU,IAAI,MAAM,EAGjCA,EAAa,UAAU,OAAO,MAAM,CAExC,CAAC,EAEDA,EAAa,iBAAiB,QAAS,IAAM,CAC3C,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QACd,CAAG,CACH,CAAC"}