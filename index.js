import{i as ve,a as v,S as X,N as ee,P as te,K as oe,A as ne,b as ke}from"./assets/vendor-CTgmw3Uk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(o=>{o.forEach((s,n)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),n*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(o=>t.observe(o))});const g=document.querySelector(".contact-modal"),we=document.querySelectorAll(".open-modal"),Se=g.querySelector(".close-modal"),se=document.body.style,ie=document.documentElement.style;we.forEach(e=>{e.addEventListener("click",()=>{var s;const t=((s=e.closest(".category"))==null?void 0:s.dataset.category)||"Default",o=g.querySelector(".title");o.textContent=t,g.classList.add("is-open"),$()})});Se.addEventListener("click",()=>{I(),c()});g.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||I()});document.addEventListener("keydown",e=>{e.key==="Escape"&&g.classList.contains("is-open")&&(I(),c())});const y=g.querySelector("form");y.addEventListener("submit",e=>{e.preventDefault();const t=y.elements.name.value.trim(),o=y.elements.email.value.trim(),s=y.elements.message.value.trim();if(!t||!o)return S("info","Please fill in all required fields.");console.log("Form data:",{name:t,email:o,message:s||""}),S("success","Your message has been sent!"),I(),c(),y.reset()});function $(){se.overflow="hidden",ie.overflow="hidden"}function c(){se.overflow="auto",ie.overflow="auto"}function I(){g.classList.remove("is-open"),c()}function S(e="success",t=""){ve[e]({icon:"",message:t,close:!1,backgroundColor:e==="info"?"#0b0500":"#e15d05",messageColor:"#ffffff",timeout:3e3,zindex:9999,progressBar:"false",position:e==="success"?"topRight":"bottomCenter",width:400,transitionIn:"fadeInDown",transitionOut:"fadeOutUp"})}const ae=document.querySelector(".mobile-menu"),qe=document.querySelector(".btn-burger"),Be=document.querySelector(".close-header-btn"),Ee=Array.from(document.querySelectorAll(".mobile-nav-link")),P=()=>ae.classList.toggle("is-open");qe.addEventListener("click",()=>{$(),P()});Be.addEventListener("click",()=>{c(),P()});document.addEventListener("keydown",e=>{e.key==="Escape"&&ae.classList.contains("is-open")&&(P(),c())});Ee.forEach(e=>{e.addEventListener("click",()=>{c(),P()})});const h=document.querySelectorAll(".slide"),f=document.querySelector(".hero-swiper-btn-prev"),m=document.querySelector(".hero-swiper-btn-next");let r=0;function J(e){h.forEach((t,o)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),o===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function R(){!f||!m||(f.disabled=r===0,f.classList.toggle("arrow--disabled",r===0),m.disabled=r===h.length-1,m.classList.toggle("arrow--disabled",r===h.length-1))}function Y(e){e.disabled||(e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},100))}h.length>0&&f&&m&&(J(r),R(),f.addEventListener("click",()=>{r>0&&(r=r-1,J(r),R(),Y(f))}),m.addEventListener("click",()=>{r<h.length-1&&(r=r+1,J(r),R(),Y(m))}));v.defaults.baseURL="https://books-backend.p.goit.global";const Ce=document.querySelector(".books-list"),Me=document.querySelector(".books-show-counter"),H=document.querySelector("#categories-container"),j=document.querySelector("#page-next"),q=document.querySelector("#books-loader"),B=document.querySelector("#categories-loader"),xe=10,Te=24,$e=4;let A=0,L=[],K=[],G=O();async function Ie(){try{return(await v.get("/books/category-list")).data}catch(e){console.log(e.message)}}async function Pe(){try{return(await v.get("/books/top-books")).data}catch(e){console.log(e.message)}}async function He(e){try{return(await v.get(`/books/category/?category=${encodeURIComponent(e)}`)).data}catch(t){console.log(t.response.data.message||t.message)}}async function Ae(e){try{return(await v.get(`/books/${e}`)).data}catch(t){console.log(t.message)}}function O(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function Oe(e){const t='<option value="" disabled selected>Categories</option>',o='<option value="All categories">All categories</option>',s=e.map(({list_name:n})=>n!==""?`<option value="${n}">${n}</option>`:"").join("");H.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+o+s}</select>`}function Ne(e){const o=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");H.innerHTML=`<ul class="categories-list">${o}</ul>`}function De(e){Ce.innerHTML=e.map(({_id:t,book_image:o,title:s,author:n,price:i})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${o}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${n}</p>
          </div>
          <p class="books-list-price">$${i}</p>
          </div>
          <button class="btn learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function Ve(){N(),re()}function _e(){const e=O();e!==G&&(G=e,Ve())}function Je(e,t){Me.innerHTML=`Showing ${e} of ${t}`}async function Re(){Qe();try{K=await Ie(),re()}catch{}finally{Ge()}}function re(){O()==="desktop"?Ne(K):Oe(K)}async function je(e){ue();try{L=await He(e),A=0,N()}catch(t){console.log(t.message)}finally{de()}}async function ce(){ue();try{L=(await Pe()).flatMap(t=>t.list_name!==""?t.books:[]),A=0,N()}catch{}finally{de()}}function N(){const e=O()==="mobile"?xe:Te,t=L.slice(0,e+A*$e);Je(t.length,L.length),De(t),Ue(t.length,L.length)}async function le(e){e==="All categories"?ce():je(e)}async function Ke(e){e.target.id==="categories-select"&&le(e.target.value)}function ze(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;le(t)}}function Fe(){A++,N()}function Ue(e,t){e<t?j.classList.remove("visually-hidden"):j.classList.add("visually-hidden")}function Ye(){Re(),ce()}function de(){q.classList.contains("visually-hidden")||q.classList.add("visually-hidden")}function ue(){q.classList.contains("visually-hidden")&&q.classList.remove("visually-hidden")}function Ge(){B.classList.contains("visually-hidden")||B.classList.add("visually-hidden")}function Qe(){B.classList.contains("visually-hidden")&&B.classList.remove("visually-hidden")}Ye();H.addEventListener("change",Ke);j.addEventListener("click",Fe);H.addEventListener("click",ze);window.addEventListener("resize",_e);const b=new X(".feedbacks-slider",{modules:[ee,te,oe,ne],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function ge(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=b.isBeginning,t.disabled=b.isEnd,e.classList.toggle("arrow--disabled",b.isBeginning),t.classList.toggle("arrow--disabled",b.isEnd)}ge();b.on("slideChange",ge);const p=new X(".events-swiper",{modules:[ee,te,oe,ne],slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".events-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередні події",nextSlideMessage:"Наступні події"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function F(){const e=document.querySelector(".events-swiper-btn-prev"),t=document.querySelector(".events-swiper-btn-next");!e||!t||(e.disabled=p.isBeginning,t.disabled=p.isEnd,e.classList.toggle("arrow--disabled",p.isBeginning),t.classList.toggle("arrow--disabled",p.isEnd))}p.on("init",F);p.on("slideChange",F);F();const We=document.querySelector("#shopping-list-link"),Ze=document.querySelector("#mobile-shopping-list-link"),E=document.querySelector("#shopping-list-backdrop"),Xe=document.querySelector("#shopping-list-close"),C=document.querySelector("#shopping-list"),M=document.querySelector(".pagination"),Q=document.querySelector("#cart-count"),W=document.querySelector("#mobile-cart-count"),d="shoppingList",w=4;let a=1;function et(e){const t=JSON.parse(localStorage.getItem(d))||[],o=t.findIndex(s=>s._id===e._id);o!==-1?t[o].quantity+=e.quantity:t.push(e),localStorage.setItem(d,JSON.stringify(t)),k()}function l(){const e=JSON.parse(localStorage.getItem(d))||[],t=Math.ceil(e.length/w);a>t&&(a=t||1);const o=(a-1)*w,s=o+w,n=e.slice(o,s);tt(n),ot(t)}function tt(e){if(!e.length){C.innerHTML="<p>Ваш кошик порожній</p>";return}C.innerHTML=e.map(t=>`
        <li class ="shopping-list-item">
            <img src="${t.book_image}" alt="${t.title}" width="50" />
            <h4 class="books-list-title">${t.title}</h4>
            <p class="books-list-author">Author: ${t.author}</p>
            <p class="books-list-price">Price: $${t.price}</p>
            <p class="books-list-price">Quantity: ${t.quantity}</p>
            <button class="btn remove-btn" data-id="${t._id}" aria-label="Remove ${t.title}">Remove</button>
        </li>
    `).join("")}function ot(e){if(e<=1){M.innerHTML="";return}const t=`<button class="shopping-pagin-btn prev-btn" ${a===1?"disabled":""}><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.70694 12.293L4.41394 7.99997H13.9999V5.99997H4.41394L8.70694 1.70697L7.29294 0.292969L0.585938 6.99997L7.29294 13.707L8.70694 12.293Z" fill="currentColor" />
</svg></button>`,o=`<button class="shopping-pagin-btn next-btn" ${a===e?"disabled":""}><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.293 12.293L6.707 13.707L13.414 6.99997L6.707 0.292969L5.293 1.70697L9.586 5.99997H0V7.99997H9.586L5.293 12.293Z" fill="currentColor" />
</svg></button>`;M.innerHTML=t+o}function nt(e){const t=Math.ceil((JSON.parse(localStorage.getItem(d))||[]).length/w);e.target.classList.contains("prev-btn")&&a>1?(a--,l()):e.target.classList.contains("next-btn")&&a<t&&(a++,l())}function st(e){if(!e.target.classList.contains("remove-btn"))return;const t=e.target.dataset.id;let o=JSON.parse(localStorage.getItem(d))||[];o=o.filter(s=>s._id!==t),localStorage.setItem(d,JSON.stringify(o)),l(),k()}function it(e){e.target.classList.contains("page-btn")?(a=Number(e.target.dataset.page),l()):e.target.classList.contains("prev-btn")&&a>1?(a--,l()):e.target.classList.contains("next-btn")&&a<totalPages&&(a++,l())}function pe(e){e.preventDefault(),E.classList.contains("is-open")||(E.classList.add("is-open"),$())}function at(){E.classList.contains("is-open")&&(E.classList.remove("is-open"),c())}function k(){const t=(JSON.parse(localStorage.getItem(d))||[]).reduce((o,s)=>o+(s.quantity||1),0);Q&&(Q.textContent=t),W&&(W.textContent=t)}function rt(e){var s;const t=(s=e.target.closest(".book-item"))==null?void 0:s.dataset.id;if(!t)return;let o=JSON.parse(localStorage.getItem(d))||[];if(e.target.classList.contains("increase-btn")){const n=o.findIndex(i=>i._id===t);o[n].quantity+=1}if(e.target.classList.contains("decrease-btn")){const n=o.findIndex(i=>i._id===t);o[n].quantity>1?o[n].quantity-=1:o=o.filter(i=>i._id!==t)}e.target.classList.contains("remove-btn")&&(o=o.filter(n=>n._id!==t)),localStorage.setItem(d,JSON.stringify(o)),l(),k()}We.addEventListener("click",pe);Ze.addEventListener("click",pe);Xe.addEventListener("click",at);M.addEventListener("click",nt);C.addEventListener("click",st);M.addEventListener("click",it);C.addEventListener("click",rt);document.addEventListener("DOMContentLoaded",()=>{l(),k()});new ke(".accordion-container",{showMultiple:!0});const ct=document.querySelector(".books-list"),fe=document.querySelector("#modal-form"),lt=document.querySelector("#modal-backdrop"),x=document.querySelector(".backdrop"),dt=document.querySelector(".modal-books-container"),me=document.querySelector("#modal-close"),Z=document.querySelector("#modal-cover"),ut=document.querySelector("#modal-title"),gt=document.querySelector("#modal-author"),pt=document.querySelector("#modal-price"),ft=document.querySelector(".ac-text-description");document.querySelector(".ac-text-shipping");document.querySelector(".ac-text-returns");const mt=document.querySelector("#increase"),U=document.querySelector("#decrease"),u=document.querySelector("#quantity"),yt=document.querySelector("#add-to-cart");document.querySelector("#buy-now");const T=document.querySelector("#modal-books-loader");let D=null,ye=null,be=null,Le=null,he=null;async function bt(e){const t=e.target.dataset.id;if(t)try{ht(),Et();const o=await Ae(t);Lt(o),D=t,ye=o.book_image,be=o.title,Le=o.author,he=o.price}catch{}finally{Bt()}}function Lt({book_image:e,title:t,author:o,price:s,description:n}){Z.src=e,Z.alt=t,ut.innerHTML=t,gt.innerHTML=o,pt.innerHTML=`$${s}`,ft.innerHTML=n}function V(){x.classList.contains("is-open")&&(x.classList.remove("is-open"),c(),D=null)}function ht(){x.classList.contains("is-open")||(x.classList.add("is-open"),$(),me.focus())}function vt(e){e.key==="Escape"&&V()}function kt(){const e=Number(u.value);u.value=e+1,Number(u.value)>1&&(U.disabled=!1)}function wt(){const e=Number(u.value);e<=1||(u.value=e-1,Number(u.value)<=1&&(U.disabled=!0))}function St(){const e=Number(u.value),t={_id:D,quantity:e,book_image:ye,title:be,author:Le,price:he};et(t),l(),k(),console.log("Added to cart",t),S("info","Added to cart")}function qt(e){e.preventDefault();const t=Number(u.value);console.log("Thank you for your purchase",{bookId:D,quantity:t}),S("success","Thank you for your purchase"),V(),c(),fe.reset()}function Bt(){T.classList.contains("visually-hidden")||T.classList.add("visually-hidden")}function Et(){T.classList.contains("visually-hidden")&&T.classList.remove("visually-hidden")}ct.addEventListener("click",bt);me.addEventListener("click",V);document.addEventListener("keydown",vt);lt.addEventListener("click",V);dt.addEventListener("click",e=>e.stopPropagation());mt.addEventListener("click",kt);U.addEventListener("click",wt);yt.addEventListener("click",St);fe.addEventListener("submit",qt);const z=document.getElementById("scrollTopBtn");window.addEventListener("scroll",()=>{window.scrollY>300?z.classList.add("show"):z.classList.remove("show")});z.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
