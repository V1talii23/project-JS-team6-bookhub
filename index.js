import{a as l,S as $,N as q,P,K as A,A as O}from"./assets/vendor-Dg7flFYi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const T=document.querySelector(".mobile-menu"),x=document.querySelector(".btn-burger"),V=document.querySelector(".close-btn"),I=Array.from(document.querySelectorAll(".mobile-nav-link")),k=document.body.style,h=()=>T.classList.toggle("is-open");x.addEventListener("click",()=>{k.overflow="hidden",h()});V.addEventListener("click",()=>{k.overflow="auto",h()});I.forEach(e=>{e.addEventListener("click",()=>{k.overflow="auto",h()})});const a=document.querySelectorAll(".slide"),w=document.querySelector(".prev"),v=document.querySelector(".next");let i=0;function b(e){a.forEach((t,s)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),s===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function L(e){e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},350)}a.length>0&&(w.addEventListener("click",()=>{i=(i-1+a.length)%a.length,b(i),L(w)}),v.addEventListener("click",()=>{i=(i+1)%a.length,b(i),L(v)}),setInterval(()=>{i=(i+1)%a.length,b(i)},7e3));document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(s=>{s.forEach((r,o)=>{r.isIntersecting&&(setTimeout(()=>r.target.classList.add("visible"),o*200),t.unobserve(r.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(s=>t.observe(s))});l.defaults.baseURL="https://books-backend.p.goit.global";const N=document.querySelector(".books-list"),D=document.querySelector(".books-show-counter"),d=document.querySelector("#categories-container"),y=document.querySelector("#page-next"),H=10,j=24,K=4;let u=0,c=[],m=[],S=g();async function R(){try{const e=await l.get("/books/category-list");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function U(){try{const e=await l.get("/books/top-books");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function W(e){try{const t=await l.get(`/books/category/?category=${encodeURIComponent(e)}`);return console.log(t.data),t.data}catch(t){console.log(t.response.data.message||t.message)}}function g(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function z(e){const t='<option value="" disabled selected>Categories</option>',s='<option value="All categories">All categories</option>',r=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");d.innerHTML=`<select name="categories" id="categories-select">${t+s+r}</select>`}function F(e){const t=e.map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");d.innerHTML=`<ul class="categories-list">${t}</ul>`}function G(e){N.innerHTML=e.map(({_id:t,book_image:s,title:r,author:o,price:n})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${s}" alt="${r}" />
          <p class="books-title">${r}</p>
          <p class="books-author">${o}</p>
          <p class="books-price">$${n}</p>
          <button class="books-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function J(){p(),B()}function Q(){const e=g();e!==S&&(S=e,J())}function X(e,t){D.innerHTML=`Showing ${e} of ${t}`}async function Y(){try{m=await R(),B()}catch(e){console.log(e.message)}}function B(){g()==="desktop"?F(m):z(m)}async function Z(e){try{c=await W(e),u=0,p()}catch{}}async function C(){try{c=(await U()).flatMap(t=>t.list_name!==""?t.books:[]),u=0,p()}catch{}}function p(){const e=g()==="mobile"?H:j,t=c.slice(0,e+u*K);X(t.length,c.length),G(t),oe(t.length,c.length)}async function M(e){e==="All categories"?C():Z(e)}async function _(e){e.target.id==="categories-select"&&M(e.target.value)}function ee(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;M(t)}}function te(){u++,p()}function oe(e,t){e<t?y.classList.remove("hidden"):y.classList.add("hidden")}function se(){Y(),C()}se();d.addEventListener("change",_);y.addEventListener("click",te);d.addEventListener("click",ee);window.addEventListener("resize",Q);const ne=new $(".feedbacks-slider",{modules:[q,P,A,O],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function E(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=feedbacksSwiper.isBeginning,t.disabled=feedbacksSwiper.isEnd,e.classList.toggle("arrow--disabled",feedbacksSwiper.isBeginning),t.classList.toggle("arrow--disabled",feedbacksSwiper.isEnd)}E();ne.on("slideChange",E);
//# sourceMappingURL=index.js.map
