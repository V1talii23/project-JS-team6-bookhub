import{i as Z,a as b,S as V,N as R,P as j,K as z,A as F,b as _}from"./assets/vendor-Tz34TiHb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const M of r.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&s(M)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(n=>{n.forEach((s,o)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),o*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(n=>t.observe(n))});const l=document.querySelector(".contact-modal"),ee=document.querySelectorAll(".open-modal"),te=l.querySelector(".close-modal"),K=document.body.style,U=document.documentElement.style;ee.forEach(e=>{e.addEventListener("click",()=>{var s;const t=((s=e.closest(".category"))==null?void 0:s.dataset.category)||"Default",n=l.querySelector(".title");n.textContent=t,l.classList.add("is-open"),A()})});te.addEventListener("click",()=>{w(),i()});l.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||w()});document.addEventListener("keydown",e=>{e.key==="Escape"&&l.classList.contains("is-open")&&(w(),i())});const g=l.querySelector("form");g.addEventListener("submit",e=>{e.preventDefault();const t=g.elements.name.value.trim(),n=g.elements.email.value.trim(),s=g.elements.message.value.trim();if(!t||!n)return v("info","Please fill in all required fields.");console.log("Form data:",{name:t,email:n,message:s||""}),v("success","Your message has been sent!"),w(),i(),g.reset()});function A(){K.overflow="hidden",U.overflow="hidden"}function i(){K.overflow="auto",U.overflow="auto"}function w(){l.classList.remove("is-open"),i()}function v(e="success",t=""){Z[e]({icon:"",message:t,close:!1,backgroundColor:e==="info"?"#0b0500":"#e15d05",messageColor:"#ffffff",timeout:3e3,zindex:9999,progressBar:"false",position:"topRight",width:400,transitionIn:"fadeInDown",transitionOut:"fadeOutUp"})}const W=document.querySelector(".mobile-menu"),oe=document.querySelector(".btn-burger"),ne=document.querySelector(".close-header-btn"),se=Array.from(document.querySelectorAll(".mobile-nav-link")),L=()=>W.classList.toggle("is-open");oe.addEventListener("click",()=>{A(),L()});ne.addEventListener("click",()=>{i(),L()});document.addEventListener("keydown",e=>{e.key==="Escape"&&W.classList.contains("is-open")&&(L(),i())});se.forEach(e=>{e.addEventListener("click",()=>{i(),L()})});const y=document.querySelectorAll(".slide"),u=document.querySelector(".hero-swiper-btn-prev"),m=document.querySelector(".hero-swiper-btn-next");let a=0;function $(e){y.forEach((t,n)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),n===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function T(){!u||!m||(u.disabled=a===0,u.classList.toggle("arrow--disabled",a===0),m.disabled=a===y.length-1,m.classList.toggle("arrow--disabled",a===y.length-1))}function D(e){e.disabled||(e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},100))}y.length>0&&u&&m&&($(a),T(),u.addEventListener("click",()=>{a>0&&(a=a-1,$(a),T(),D(u))}),m.addEventListener("click",()=>{a<y.length-1&&(a=a+1,$(a),T(),D(m))}));b.defaults.baseURL="https://books-backend.p.goit.global";const re=document.querySelector(".books-list"),ae=document.querySelector(".books-show-counter"),h=document.querySelector("#categories-container"),x=document.querySelector("#page-next"),ie=10,ce=24,le=4;let S=0,f=[],P=[],N=q();async function de(){try{return(await b.get("/books/category-list")).data}catch(e){console.log(e.message)}}async function ue(){try{return(await b.get("/books/top-books")).data}catch(e){console.log(e.message)}}async function me(e){try{return(await b.get(`/books/category/?category=${encodeURIComponent(e)}`)).data}catch(t){console.log(t.response.data.message||t.message)}}async function ge(e){try{return(await b.get(`/books/${e}`)).data}catch(t){console.log(t.message)}}function q(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function pe(e){const t='<option value="" disabled selected>Categories</option>',n='<option value="All categories">All categories</option>',s=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");h.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+n+s}</select>`}function fe(e){const n=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");h.innerHTML=`<ul class="categories-list">${n}</ul>`}function ye(e){re.innerHTML=e.map(({_id:t,book_image:n,title:s,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${n}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="btn learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function be(){B(),Q()}function ve(){const e=q();e!==N&&(N=e,be())}function ke(e,t){ae.innerHTML=`Showing ${e} of ${t}`}async function we(){try{P=await de(),Q()}catch(e){console.log(e.message)}}function Q(){q()==="desktop"?fe(P):pe(P)}async function Le(e){try{f=await me(e),S=0,B()}catch{}}async function Y(){try{f=(await ue()).flatMap(t=>t.list_name!==""?t.books:[]),S=0,B()}catch{}}function B(){const e=q()==="mobile"?ie:ce,t=f.slice(0,e+S*le);ke(t.length,f.length),ye(t),Be(t.length,f.length)}async function G(e){e==="All categories"?Y():Le(e)}async function he(e){e.target.id==="categories-select"&&G(e.target.value)}function Se(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;G(t)}}function qe(){S++,B()}function Be(e,t){e<t?x.classList.remove("visually-hidden"):x.classList.add("visually-hidden")}function Ee(){we(),Y()}Ee();h.addEventListener("change",he);x.addEventListener("click",qe);h.addEventListener("click",Se);window.addEventListener("resize",ve);const p=new V(".feedbacks-slider",{modules:[R,j,z,F],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function J(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=p.isBeginning,t.disabled=p.isEnd,e.classList.toggle("arrow--disabled",p.isBeginning),t.classList.toggle("arrow--disabled",p.isEnd)}J();p.on("slideChange",J);const d=new V(".events-swiper",{modules:[R,j,z,F],slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".events-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередні події",nextSlideMessage:"Наступні події"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function H(){const e=document.querySelector(".events-swiper-btn-prev"),t=document.querySelector(".events-swiper-btn-next");!e||!t||(e.disabled=d.isBeginning,t.disabled=d.isEnd,e.classList.toggle("arrow--disabled",d.isBeginning),t.classList.toggle("arrow--disabled",d.isEnd))}d.on("init",H);d.on("slideChange",H);H();new _(".accordion-container",{showMultiple:!0});const Ce=document.querySelector(".books-list"),X=document.querySelector("#modal-form"),Me=document.querySelector("#modal-backdrop"),k=document.querySelector(".backdrop"),$e=document.querySelector(".modal-books-container"),Te=document.querySelector("#modal-close"),O=document.querySelector("#modal-cover"),xe=document.querySelector("#modal-title"),Pe=document.querySelector("#modal-author"),Ae=document.querySelector("#modal-price"),He=document.querySelector(".ac-text-description");document.querySelector(".ac-text-shipping");document.querySelector(".ac-text-returns");const Ie=document.querySelector("#increase"),I=document.querySelector("#decrease"),c=document.querySelector("#quantity"),De=document.querySelector("#add-to-cart");document.querySelector("#buy-now");let E=null;async function Ne(e){const t=e.target.dataset.id;if(t)try{const n=await ge(t);Oe(n),Ve(),E=t}catch{}}function Oe({book_image:e,title:t,author:n,price:s,description:o}){O.src=e,O.alt=t,xe.innerHTML=t,Pe.innerHTML=n,Ae.innerHTML=`$${s}`,He.innerHTML=o}function C(){k.classList.contains("is-open")&&(k.classList.remove("is-open"),i(),E=null)}function Ve(){k.classList.contains("is-open")||(k.classList.add("is-open"),A())}function Re(e){e.key==="Escape"&&C()}function je(){const e=Number(c.value);c.value=e+1,Number(c.value)>1&&(I.disabled=!1)}function ze(){const e=Number(c.value);e<=1||(c.value=e-1,Number(c.value)<=1&&(I.disabled=!0))}function Fe(){const e=Number(c.value);console.log("Додано до кошика ",{bookId:E,quantity:e}),v("info","Додано до кошика")}function Ke(e){e.preventDefault();const t=Number(c.value);console.log("Дякуємо за покупку ",{bookId:E,quantity:t}),v("success","Дякуємо за покупку"),C(),i(),X.reset()}Ce.addEventListener("click",Ne);Te.addEventListener("click",C);document.addEventListener("keydown",Re);Me.addEventListener("click",C);$e.addEventListener("click",e=>e.stopPropagation());Ie.addEventListener("click",je);I.addEventListener("click",ze);De.addEventListener("click",Fe);X.addEventListener("submit",Ke);
//# sourceMappingURL=index.js.map
