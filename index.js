import{a as p,S as N,N as V,P as H,K as I,A as j}from"./assets/vendor-Dg7flFYi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const w of r.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&s(w)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(n=>{n.forEach((s,o)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),o*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(n=>t.observe(n))});const i=document.querySelector(".modal"),K=document.querySelectorAll(".open-modal");document.createElement("button");const R=i.querySelector(".close-modal"),$=document.body.style,A=document.documentElement.style;K.forEach(e=>{e.addEventListener("click",()=>{var s;const t=((s=e.closest(".category"))==null?void 0:s.dataset.category)||"Default",n=i.querySelector(".title");n.textContent=t,i.classList.remove("hidden"),P()})});R.addEventListener("click",()=>{y(),d()});i.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||y()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!i.classList.contains("hidden")&&(y(),d())});const u=i.querySelector("form");u.addEventListener("submit",e=>{e.preventDefault();const t=u.elements.name.value.trim(),n=u.elements.email.value.trim(),s=u.elements.message.value.trim();if(!t||!n){alert("Please fill in all fields");return}console.log("Form data:",{name:t,email:n,message:s||""}),alert("Your message has been sent!"),y(),d(),u.reset()});function P(){$.overflow="hidden",A.overflow="hidden"}function d(){$.overflow="auto",A.overflow="auto"}function y(){i.classList.add("hidden"),d()}const F=document.querySelector(".mobile-menu"),U=document.querySelector(".btn-burger"),W=document.querySelector(".close-btn"),z=Array.from(document.querySelectorAll(".mobile-nav-link")),C=()=>F.classList.toggle("is-open");U.addEventListener("click",()=>{P(),C()});W.addEventListener("click",()=>{d(),C()});z.forEach(e=>{e.addEventListener("click",()=>{d(),C()})});const m=document.querySelectorAll(".slide"),c=document.querySelector(".hero-swiper-btn-prev"),l=document.querySelector(".hero-swiper-btn-next");let a=0;function L(e){console.log("Показываем слайд:",e),m.forEach((t,n)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),n===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"),console.log("Активирован слайд:",n,t.className))})}function S(){!c||!l||(c.disabled=a===0,c.classList.toggle("arrow--disabled",a===0),l.disabled=a===m.length-1,l.classList.toggle("arrow--disabled",a===m.length-1))}function M(e){e.disabled||(e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},100))}m.length>0&&c&&l&&(L(a),S(),c.addEventListener("click",()=>{a>0&&(a=a-1,L(a),S(),M(c))}),l.addEventListener("click",()=>{a<m.length-1&&(a=a+1,L(a),S(),M(l))}));p.defaults.baseURL="https://books-backend.p.goit.global";const Y=document.querySelector(".books-list"),G=document.querySelector(".books-show-counter"),b=document.querySelector("#categories-container"),B=document.querySelector("#page-next"),J=10,Q=24,X=4;let v=0,f=[],E=[],q=h();async function Z(){try{const e=await p.get("/books/category-list");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function _(){try{const e=await p.get("/books/top-books");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function ee(e){try{const t=await p.get(`/books/category/?category=${encodeURIComponent(e)}`);return console.log(t.data),t.data}catch(t){console.log(t.response.data.message||t.message)}}function h(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function te(e){const t='<option value="" disabled selected>Categories</option>',n='<option value="All categories">All categories</option>',s=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");b.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+n+s}</select>`}function oe(e){const n=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");b.innerHTML=`<ul class="categories-list">${n}</ul>`}function se(e){Y.innerHTML=e.map(({_id:t,book_image:n,title:s,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${n}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function ne(){k(),T()}function re(){const e=h();e!==q&&(q=e,ne())}function ae(e,t){G.innerHTML=`Showing ${e} of ${t}`}async function ie(){try{E=await Z(),T()}catch(e){console.log(e.message)}}function T(){h()==="desktop"?oe(E):te(E)}async function ce(e){try{f=await ee(e),v=0,k()}catch{}}async function O(){try{f=(await _()).flatMap(t=>t.list_name!==""?t.books:[]),v=0,k()}catch{}}function k(){const e=h()==="mobile"?J:Q,t=f.slice(0,e+v*X);ae(t.length,f.length),se(t),ge(t.length,f.length)}async function x(e){e==="All categories"?O():ce(e)}async function le(e){e.target.id==="categories-select"&&x(e.target.value)}function de(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;x(t)}}function ue(){v++,k()}function ge(e,t){e<t?B.classList.remove("visually-hidden"):B.classList.add("visually-hidden")}function fe(){ie(),O()}fe();b.addEventListener("change",le);B.addEventListener("click",ue);b.addEventListener("click",de);window.addEventListener("resize",re);const g=new N(".feedbacks-slider",{modules:[V,H,I,j],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function D(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=g.isBeginning,t.disabled=g.isEnd,e.classList.toggle("arrow--disabled",g.isBeginning),t.classList.toggle("arrow--disabled",g.isEnd)}D();g.on("slideChange",D);
//# sourceMappingURL=index.js.map
