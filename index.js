import{a as d,S as q,N as A,P,K as O,A as T}from"./assets/vendor-Dg7flFYi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const b of r.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&s(b)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(n=>{n.forEach((s,o)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),o*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(n=>t.observe(n))});const x=document.querySelector(".mobile-menu"),V=document.querySelector(".btn-burger"),I=document.querySelector(".close-btn"),N=Array.from(document.querySelectorAll(".mobile-nav-link")),h=document.body.style,v=()=>x.classList.toggle("is-open");V.addEventListener("click",()=>{h.overflow="hidden",v()});I.addEventListener("click",()=>{h.overflow="auto",v()});N.forEach(e=>{e.addEventListener("click",()=>{h.overflow="auto",v()})});const a=document.querySelectorAll(".slide"),w=document.querySelector(".prev"),L=document.querySelector(".next");let i=0;function y(e){a.forEach((t,n)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),n===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function S(e){e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},350)}a.length>0&&(w.addEventListener("click",()=>{i=(i-1+a.length)%a.length,y(i),S(w)}),L.addEventListener("click",()=>{i=(i+1)%a.length,y(i),S(L)}),setInterval(()=>{i=(i+1)%a.length,y(i)},7e3));d.defaults.baseURL="https://books-backend.p.goit.global";const D=document.querySelector(".books-list"),H=document.querySelector(".books-show-counter"),u=document.querySelector("#categories-container"),m=document.querySelector("#page-next"),j=10,K=24,R=4;let g=0,l=[],k=[],B=p();async function U(){try{const e=await d.get("/books/category-list");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function W(){try{const e=await d.get("/books/top-books");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function z(e){try{const t=await d.get(`/books/category/?category=${encodeURIComponent(e)}`);return console.log(t.data),t.data}catch(t){console.log(t.response.data.message||t.message)}}function p(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function F(e){const t='<option value="" disabled selected>Categories</option>',n='<option value="All categories">All categories</option>',s=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");u.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+n+s}</select>`}function G(e){const n=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");u.innerHTML=`<ul class="categories-list">${n}</ul>`}function J(e){D.innerHTML=e.map(({_id:t,book_image:n,title:s,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${n}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function Q(){f(),C()}function X(){const e=p();e!==B&&(B=e,Q())}function Y(e,t){H.innerHTML=`Showing ${e} of ${t}`}async function Z(){try{k=await U(),C()}catch(e){console.log(e.message)}}function C(){p()==="desktop"?G(k):F(k)}async function _(e){try{l=await z(e),g=0,f()}catch{}}async function M(){try{l=(await W()).flatMap(t=>t.list_name!==""?t.books:[]),g=0,f()}catch{}}function f(){const e=p()==="mobile"?j:K,t=l.slice(0,e+g*R);Y(t.length,l.length),J(t),se(t.length,l.length)}async function E(e){e==="All categories"?M():_(e)}async function ee(e){e.target.id==="categories-select"&&E(e.target.value)}function te(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;E(t)}}function oe(){g++,f()}function se(e,t){e<t?m.classList.remove("visually-hidden"):m.classList.add("visually-hidden")}function ne(){Z(),M()}ne();u.addEventListener("change",ee);m.addEventListener("click",oe);u.addEventListener("click",te);window.addEventListener("resize",X);const c=new q(".feedbacks-slider",{modules:[A,P,O,T],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function $(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=c.isBeginning,t.disabled=c.isEnd,e.classList.toggle("arrow--disabled",c.isBeginning),t.classList.toggle("arrow--disabled",c.isEnd)}$();c.on("slideChange",$);
//# sourceMappingURL=index.js.map
