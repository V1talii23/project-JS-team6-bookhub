import{i as ne,a as b,S as F,N as K,P as U,K as W,A as Y,b as re}from"./assets/vendor-CTgmw3Uk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const x of r.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&n(x)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(s=>{s.forEach((n,o)=>{n.isIntersecting&&(setTimeout(()=>n.target.classList.add("visible"),o*200),t.unobserve(n.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(s=>t.observe(s))});const l=document.querySelector(".contact-modal"),ie=document.querySelectorAll(".open-modal"),ae=l.querySelector(".close-modal"),Q=document.body.style,G=document.documentElement.style;ie.forEach(e=>{e.addEventListener("click",()=>{var n;const t=((n=e.closest(".category"))==null?void 0:n.dataset.category)||"Default",s=l.querySelector(".title");s.textContent=t,l.classList.add("is-open"),N()})});ae.addEventListener("click",()=>{S(),a()});l.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||S()});document.addEventListener("keydown",e=>{e.key==="Escape"&&l.classList.contains("is-open")&&(S(),a())});const f=l.querySelector("form");f.addEventListener("submit",e=>{e.preventDefault();const t=f.elements.name.value.trim(),s=f.elements.email.value.trim(),n=f.elements.message.value.trim();if(!t||!s)return v("info","Please fill in all required fields.");console.log("Form data:",{name:t,email:s,message:n||""}),v("success","Your message has been sent!"),S(),a(),f.reset()});function N(){Q.overflow="hidden",G.overflow="hidden"}function a(){Q.overflow="auto",G.overflow="auto"}function S(){l.classList.remove("is-open"),a()}function v(e="success",t=""){ne[e]({icon:"",message:t,close:!1,backgroundColor:e==="info"?"#0b0500":"#e15d05",messageColor:"#ffffff",timeout:3e3,zindex:9999,progressBar:"false",position:"topRight",width:400,transitionIn:"fadeInDown",transitionOut:"fadeOutUp"})}const J=document.querySelector(".mobile-menu"),ce=document.querySelector(".btn-burger"),le=document.querySelector(".close-header-btn"),de=Array.from(document.querySelectorAll(".mobile-nav-link")),q=()=>J.classList.toggle("is-open");ce.addEventListener("click",()=>{N(),q()});le.addEventListener("click",()=>{a(),q()});document.addEventListener("keydown",e=>{e.key==="Escape"&&J.classList.contains("is-open")&&(q(),a())});de.forEach(e=>{e.addEventListener("click",()=>{a(),q()})});const y=document.querySelectorAll(".slide"),u=document.querySelector(".hero-swiper-btn-prev"),m=document.querySelector(".hero-swiper-btn-next");let i=0;function P(e){y.forEach((t,s)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),s===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function A(){!u||!m||(u.disabled=i===0,u.classList.toggle("arrow--disabled",i===0),m.disabled=i===y.length-1,m.classList.toggle("arrow--disabled",i===y.length-1))}function R(e){e.disabled||(e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},100))}y.length>0&&u&&m&&(P(i),A(),u.addEventListener("click",()=>{i>0&&(i=i-1,P(i),A(),R(u))}),m.addEventListener("click",()=>{i<y.length-1&&(i=i+1,P(i),A(),R(m))}));b.defaults.baseURL="https://books-backend.p.goit.global";const ue=document.querySelector(".books-list"),me=document.querySelector(".books-show-counter"),B=document.querySelector("#categories-container"),I=document.querySelector("#page-next"),k=document.querySelector("#books-loader"),L=document.querySelector("#categories-loader"),fe=10,ge=24,pe=4;let E=0,p=[],H=[],j=C();async function ye(){try{return(await b.get("/books/category-list")).data}catch(e){console.log(e.message)}}async function be(){try{return(await b.get("/books/top-books")).data}catch(e){console.log(e.message)}}async function ve(e){try{return(await b.get(`/books/category/?category=${encodeURIComponent(e)}`)).data}catch(t){console.log(t.response.data.message||t.message)}}async function ke(e){try{return(await b.get(`/books/${e}`)).data}catch(t){console.log(t.message)}}function C(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function Le(e){const t='<option value="" disabled selected>Categories</option>',s='<option value="All categories">All categories</option>',n=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");B.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+s+n}</select>`}function he(e){const s=[{list_name:"All categories"},...e].map(({list_name:n})=>n!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${n}">${n}</a></li>`:"").join("");B.innerHTML=`<ul class="categories-list">${s}</ul>`}function we(e){ue.innerHTML=e.map(({_id:t,book_image:s,title:n,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${s}" alt="${n}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${n}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="btn learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function Se(){M(),X()}function qe(){const e=C();e!==j&&(j=e,Se())}function Be(e,t){me.innerHTML=`Showing ${e} of ${t}`}async function Ee(){Ie();try{H=await ye(),X()}catch{}finally{Ae()}}function X(){C()==="desktop"?he(H):Le(H)}async function Ce(e){te();try{p=await ve(e),E=0,M()}catch(t){console.log(t.message)}finally{ee()}}async function Z(){te();try{p=(await be()).flatMap(t=>t.list_name!==""?t.books:[]),E=0,M()}catch{}finally{ee()}}function M(){const e=C()==="mobile"?fe:ge,t=p.slice(0,e+E*pe);Be(t.length,p.length),we(t),xe(t.length,p.length)}async function _(e){e==="All categories"?Z():Ce(e)}async function Me(e){e.target.id==="categories-select"&&_(e.target.value)}function Te(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;_(t)}}function $e(){E++,M()}function xe(e,t){e<t?I.classList.remove("visually-hidden"):I.classList.add("visually-hidden")}function Pe(){Ee(),Z()}function ee(){k.classList.contains("visually-hidden")||k.classList.add("visually-hidden")}function te(){k.classList.contains("visually-hidden")&&k.classList.remove("visually-hidden")}function Ae(){L.classList.contains("visually-hidden")||L.classList.add("visually-hidden")}function Ie(){L.classList.contains("visually-hidden")&&L.classList.remove("visually-hidden")}Pe();B.addEventListener("change",Me);I.addEventListener("click",$e);B.addEventListener("click",Te);window.addEventListener("resize",qe);const g=new F(".feedbacks-slider",{modules:[K,U,W,Y],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function oe(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=g.isBeginning,t.disabled=g.isEnd,e.classList.toggle("arrow--disabled",g.isBeginning),t.classList.toggle("arrow--disabled",g.isEnd)}oe();g.on("slideChange",oe);const d=new F(".events-swiper",{modules:[K,U,W,Y],slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".events-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередні події",nextSlideMessage:"Наступні події"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function O(){const e=document.querySelector(".events-swiper-btn-prev"),t=document.querySelector(".events-swiper-btn-next");!e||!t||(e.disabled=d.isBeginning,t.disabled=d.isEnd,e.classList.toggle("arrow--disabled",d.isBeginning),t.classList.toggle("arrow--disabled",d.isEnd))}d.on("init",O);d.on("slideChange",O);O();new re(".accordion-container",{showMultiple:!0});const He=document.querySelector(".books-list"),se=document.querySelector("#modal-form"),De=document.querySelector("#modal-backdrop"),h=document.querySelector(".backdrop"),Ne=document.querySelector(".modal-books-container"),Oe=document.querySelector("#modal-close"),z=document.querySelector("#modal-cover"),Ve=document.querySelector("#modal-title"),Re=document.querySelector("#modal-author"),je=document.querySelector("#modal-price"),ze=document.querySelector(".ac-text-description");document.querySelector(".ac-text-shipping");document.querySelector(".ac-text-returns");const Fe=document.querySelector("#increase"),V=document.querySelector("#decrease"),c=document.querySelector("#quantity"),Ke=document.querySelector("#add-to-cart");document.querySelector("#buy-now");const w=document.querySelector("#modal-books-loader");let T=null;async function Ue(e){const t=e.target.dataset.id;if(t)try{Ye(),et();const s=await ke(t);We(s),T=t}catch{}finally{_e()}}function We({book_image:e,title:t,author:s,price:n,description:o}){z.src=e,z.alt=t,Ve.innerHTML=t,Re.innerHTML=s,je.innerHTML=`$${n}`,ze.innerHTML=o}function $(){h.classList.contains("is-open")&&(h.classList.remove("is-open"),a(),T=null)}function Ye(){h.classList.contains("is-open")||(h.classList.add("is-open"),N())}function Qe(e){e.key==="Escape"&&$()}function Ge(){const e=Number(c.value);c.value=e+1,Number(c.value)>1&&(V.disabled=!1)}function Je(){const e=Number(c.value);e<=1||(c.value=e-1,Number(c.value)<=1&&(V.disabled=!0))}function Xe(){const e=Number(c.value);console.log("Додано до кошика ",{bookId:T,quantity:e}),v("info","Додано до кошика")}function Ze(e){e.preventDefault();const t=Number(c.value);console.log("Дякуємо за покупку ",{bookId:T,quantity:t}),v("success","Дякуємо за покупку"),$(),a(),se.reset()}function _e(){w.classList.contains("visually-hidden")||w.classList.add("visually-hidden")}function et(){w.classList.contains("visually-hidden")&&w.classList.remove("visually-hidden")}He.addEventListener("click",Ue);Oe.addEventListener("click",$);document.addEventListener("keydown",Qe);De.addEventListener("click",$);Ne.addEventListener("click",e=>e.stopPropagation());Fe.addEventListener("click",Ge);V.addEventListener("click",Je);Ke.addEventListener("click",Xe);se.addEventListener("submit",Ze);const D=document.getElementById("scrollTopBtn");window.addEventListener("scroll",()=>{window.scrollY>300?D.classList.add("show"):D.classList.remove("show")});D.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
