import{a as f,S as D,N as V,P as I,K as N,A as H}from"./assets/vendor-Dg7flFYi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const k of r.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&s(k)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(n=>{n.forEach((s,o)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),o*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(n=>t.observe(n))});const i=document.querySelector(".modal"),j=document.querySelectorAll(".open-modal");document.createElement("button");const K=i.querySelector(".close-modal"),q=document.body.style,$=document.documentElement.style;j.forEach(e=>{e.addEventListener("click",()=>{var s;const t=((s=e.closest(".category"))==null?void 0:s.dataset.category)||"Default",n=i.querySelector(".title");n.textContent=t,i.classList.remove("hidden"),A()})});K.addEventListener("click",()=>{m(),l()});i.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||m()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!i.classList.contains("hidden")&&(m(),l())});const d=i.querySelector("form");d.addEventListener("submit",e=>{e.preventDefault();const t=d.elements.name.value.trim(),n=d.elements.email.value.trim(),s=d.elements.message.value.trim();if(!t||!n){alert("Please fill in all fields");return}console.log("Form data:",{name:t,email:n,message:s||""}),alert("Your message has been sent!"),m(),l(),d.reset()});function A(){q.overflow="hidden",$.overflow="hidden"}function l(){q.overflow="auto",$.overflow="auto"}function m(){i.classList.add("hidden"),l()}const R=document.querySelector(".mobile-menu"),F=document.querySelector(".btn-burger"),U=document.querySelector(".close-btn"),W=Array.from(document.querySelectorAll(".mobile-nav-link")),S=()=>R.classList.toggle("is-open");F.addEventListener("click",()=>{A(),S()});U.addEventListener("click",()=>{l(),S()});W.forEach(e=>{e.addEventListener("click",()=>{l(),S()})});const c=document.querySelectorAll(".slide"),B=document.querySelector(".prev"),E=document.querySelector(".next");let a=0;function h(e){c.forEach((t,n)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),n===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function C(e){e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},350)}c.length>0&&(B.addEventListener("click",()=>{a=(a-1+c.length)%c.length,h(a),C(B)}),E.addEventListener("click",()=>{a=(a+1)%c.length,h(a),C(E)}),setInterval(()=>{a=(a+1)%c.length,h(a)},7e3));f.defaults.baseURL="https://books-backend.p.goit.global";const z=document.querySelector(".books-list"),Y=document.querySelector(".books-show-counter"),p=document.querySelector("#categories-container"),L=document.querySelector("#page-next"),G=10,J=24,Q=4;let y=0,g=[],w=[],M=b();async function X(){try{const e=await f.get("/books/category-list");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function Z(){try{const e=await f.get("/books/top-books");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function _(e){try{const t=await f.get(`/books/category/?category=${encodeURIComponent(e)}`);return console.log(t.data),t.data}catch(t){console.log(t.response.data.message||t.message)}}function b(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function ee(e){const t='<option value="" disabled selected>Categories</option>',n='<option value="All categories">All categories</option>',s=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");p.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+n+s}</select>`}function te(e){const n=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");p.innerHTML=`<ul class="categories-list">${n}</ul>`}function oe(e){z.innerHTML=e.map(({_id:t,book_image:n,title:s,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${n}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function se(){v(),P()}function ne(){const e=b();e!==M&&(M=e,se())}function re(e,t){Y.innerHTML=`Showing ${e} of ${t}`}async function ae(){try{w=await X(),P()}catch(e){console.log(e.message)}}function P(){b()==="desktop"?te(w):ee(w)}async function ie(e){try{g=await _(e),y=0,v()}catch{}}async function T(){try{g=(await Z()).flatMap(t=>t.list_name!==""?t.books:[]),y=0,v()}catch{}}function v(){const e=b()==="mobile"?G:J,t=g.slice(0,e+y*Q);re(t.length,g.length),oe(t),ue(t.length,g.length)}async function O(e){e==="All categories"?T():ie(e)}async function ce(e){e.target.id==="categories-select"&&O(e.target.value)}function le(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;O(t)}}function de(){y++,v()}function ue(e,t){e<t?L.classList.remove("visually-hidden"):L.classList.add("visually-hidden")}function ge(){ae(),T()}ge();p.addEventListener("change",ce);L.addEventListener("click",de);p.addEventListener("click",le);window.addEventListener("resize",ne);const u=new D(".feedbacks-slider",{modules:[V,I,N,H],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function x(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=u.isBeginning,t.disabled=u.isEnd,e.classList.toggle("arrow--disabled",u.isBeginning),t.classList.toggle("arrow--disabled",u.isEnd)}x();u.on("slideChange",x);
//# sourceMappingURL=index.js.map
