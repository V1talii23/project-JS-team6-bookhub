import{a as b,S as D,N as O,P as j,K,A as R,b as J}from"./assets/vendor-CKOUzM3Q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const E of r.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&s(E)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(n=>{n.forEach((s,o)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),o*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(n=>t.observe(n))});const l=document.querySelector(".contact-modal"),X=document.querySelectorAll(".open-modal"),Z=l.querySelector(".close-modal"),F=document.body.style,U=document.documentElement.style;X.forEach(e=>{e.addEventListener("click",()=>{var s;const t=((s=e.closest(".category"))==null?void 0:s.dataset.category)||"Default",n=l.querySelector(".title");n.textContent=t,l.classList.add("is-open"),T()})});Z.addEventListener("click",()=>{k(),c()});l.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||k()});document.addEventListener("keydown",e=>{e.key==="Escape"&&l.classList.contains("is-open")&&(k(),c())});const m=l.querySelector("form");m.addEventListener("submit",e=>{e.preventDefault();const t=m.elements.name.value.trim(),n=m.elements.email.value.trim(),s=m.elements.message.value.trim();if(!t||!n){alert("Please fill in all fields");return}console.log("Form data:",{name:t,email:n,message:s||""}),alert("Your message has been sent!"),k(),c(),m.reset()});function T(){F.overflow="hidden",U.overflow="hidden"}function c(){F.overflow="auto",U.overflow="auto"}function k(){l.classList.remove("is-open"),c()}const W=document.querySelector(".mobile-menu"),_=document.querySelector(".btn-burger"),ee=document.querySelector(".close-header-btn"),te=Array.from(document.querySelectorAll(".mobile-nav-link")),w=()=>W.classList.toggle("is-open");_.addEventListener("click",()=>{T(),w()});ee.addEventListener("click",()=>{c(),w()});document.addEventListener("keydown",e=>{e.key==="Escape"&&W.classList.contains("is-open")&&(w(),c())});te.forEach(e=>{e.addEventListener("click",()=>{c(),w()})});const y=document.querySelectorAll(".slide"),u=document.querySelector(".hero-swiper-btn-prev"),g=document.querySelector(".hero-swiper-btn-next");let a=0;function M(e){y.forEach((t,n)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),n===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function C(){!u||!g||(u.disabled=a===0,u.classList.toggle("arrow--disabled",a===0),g.disabled=a===y.length-1,g.classList.toggle("arrow--disabled",a===y.length-1))}function N(e){e.disabled||(e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},100))}y.length>0&&u&&g&&(M(a),C(),u.addEventListener("click",()=>{a>0&&(a=a-1,M(a),C(),N(u))}),g.addEventListener("click",()=>{a<y.length-1&&(a=a+1,M(a),C(),N(g))}));b.defaults.baseURL="https://books-backend.p.goit.global";const oe=document.querySelector(".books-list"),ne=document.querySelector(".books-show-counter"),L=document.querySelector("#categories-container"),$=document.querySelector("#page-next"),se=10,re=24,ae=4;let h=0,f=[],P=[],I=S();async function ie(){try{const e=await b.get("/books/category-list");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function ce(){try{const e=await b.get("/books/top-books");return console.log(e.data),e.data}catch(e){console.log(e.message)}}async function le(e){try{const t=await b.get(`/books/category/?category=${encodeURIComponent(e)}`);return console.log(t.data),t.data}catch(t){console.log(t.response.data.message||t.message)}}async function de(e){try{const t=await b.get(`/books/${e}`);return console.log(t.data),t.data}catch(t){console.log(t.message)}}function S(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function ue(e){const t='<option value="" disabled selected>Categories</option>',n='<option value="All categories">All categories</option>',s=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");L.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+n+s}</select>`}function ge(e){const n=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");L.innerHTML=`<ul class="categories-list">${n}</ul>`}function me(e){oe.innerHTML=e.map(({_id:t,book_image:n,title:s,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${n}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="btn learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function pe(){q(),z()}function fe(){const e=S();e!==I&&(I=e,pe())}function ye(e,t){ne.innerHTML=`Showing ${e} of ${t}`}async function be(){try{P=await ie(),z()}catch(e){console.log(e.message)}}function z(){S()==="desktop"?ge(P):ue(P)}async function ve(e){try{f=await le(e),h=0,q()}catch{}}async function Q(){try{f=(await ce()).flatMap(t=>t.list_name!==""?t.books:[]),h=0,q()}catch{}}function q(){const e=S()==="mobile"?se:re,t=f.slice(0,e+h*ae);ye(t.length,f.length),me(t),he(t.length,f.length)}async function Y(e){e==="All categories"?Q():ve(e)}async function ke(e){e.target.id==="categories-select"&&Y(e.target.value)}function we(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;Y(t)}}function Le(){h++,q()}function he(e,t){e<t?$.classList.remove("visually-hidden"):$.classList.add("visually-hidden")}function Se(){be(),Q()}Se();L.addEventListener("change",ke);$.addEventListener("click",Le);L.addEventListener("click",we);window.addEventListener("resize",fe);const p=new D(".feedbacks-slider",{modules:[O,j,K,R],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function G(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=p.isBeginning,t.disabled=p.isEnd,e.classList.toggle("arrow--disabled",p.isBeginning),t.classList.toggle("arrow--disabled",p.isEnd)}G();p.on("slideChange",G);const d=new D(".events-swiper",{modules:[O,j,K,R],slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".events-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередні події",nextSlideMessage:"Наступні події"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function x(){const e=document.querySelector(".events-swiper-btn-prev"),t=document.querySelector(".events-swiper-btn-next");!e||!t||(e.disabled=d.isBeginning,t.disabled=d.isEnd,e.classList.toggle("arrow--disabled",d.isBeginning),t.classList.toggle("arrow--disabled",d.isEnd))}d.on("init",x);d.on("slideChange",x);x();new J(".accordion-container");const qe=document.querySelector(".books-list"),Be=document.querySelector("#modal-backdrop"),v=document.querySelector(".backdrop"),Ee=document.querySelector(".modal-books-container"),Me=document.querySelector("#modal-close"),V=document.querySelector("#modal-cover"),Ce=document.querySelector("#modal-title"),$e=document.querySelector("#modal-author"),Pe=document.querySelector("#modal-price"),Te=document.querySelector(".ac-text-description");document.querySelector(".ac-text-shipping");document.querySelector(".ac-text-returns");const xe=document.querySelector("#increase"),A=document.querySelector("#decrease"),i=document.querySelector("#quantity"),Ae=document.querySelector("#add-to-cart"),He=document.querySelector("#buy-now");let B=null;async function Ne(e){const t=e.target.dataset.id;if(t){console.log(t);try{const n=await de(t);console.log(n),Ie(n),Ve(),B=t}catch{}}}function Ie({book_image:e,title:t,author:n,price:s,description:o}){V.src=e,V.alt=t,Ce.innerHTML=t,$e.innerHTML=n,Pe.innerHTML=`$${s}`,Te.innerHTML=o}function H(){v.classList.contains("is-open")&&(v.classList.remove("is-open"),c(),B=null)}function Ve(){v.classList.contains("is-open")||(v.classList.add("is-open"),T())}function De(e){e.key==="Escape"&&H()}function Oe(){const e=Number(i.value);i.value=e+1,Number(i.value)>1&&(A.disabled=!1)}function je(){const e=Number(i.value);e<=1||(i.value=e-1,Number(i.value)<=1&&(A.disabled=!0))}function Ke(){const e=Number(i.value);console.log("Додано до кошика ",{bookId:B,quantity:e}),alert("Додано до кошика")}function Re(){const e=Number(i.value);console.log("Дякуємо за покупку ",{bookId:B,quantity:e}),alert("Дякуємо за покупку")}qe.addEventListener("click",Ne);Me.addEventListener("click",H);document.addEventListener("keydown",De);Be.addEventListener("click",H);Ee.addEventListener("click",e=>e.stopPropagation());xe.addEventListener("click",Oe);A.addEventListener("click",je);Ae.addEventListener("click",Ke);He.addEventListener("click",Re);
//# sourceMappingURL=index.js.map
