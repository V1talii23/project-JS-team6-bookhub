import{i as ne,a as b,S as z,N as F,P as K,K as U,A as W,b as se}from"./assets/vendor-CTgmw3Uk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const x of r.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&s(x)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=new IntersectionObserver(n=>{n.forEach((s,o)=>{s.isIntersecting&&(setTimeout(()=>s.target.classList.add("visible"),o*200),t.unobserve(s.target))})},{threshold:.2});document.querySelectorAll(".section").forEach(n=>t.observe(n))});const l=document.querySelector(".contact-modal"),re=document.querySelectorAll(".open-modal"),ie=l.querySelector(".close-modal"),Q=document.body.style,Y=document.documentElement.style;re.forEach(e=>{e.addEventListener("click",()=>{var s;const t=((s=e.closest(".category"))==null?void 0:s.dataset.category)||"Default",n=l.querySelector(".title");n.textContent=t,l.classList.add("is-open"),D()})});ie.addEventListener("click",()=>{S(),a()});l.addEventListener("click",e=>{e.target.closest(".register-contact-modal")||S()});document.addEventListener("keydown",e=>{e.key==="Escape"&&l.classList.contains("is-open")&&(S(),a())});const m=l.querySelector("form");m.addEventListener("submit",e=>{e.preventDefault();const t=m.elements.name.value.trim(),n=m.elements.email.value.trim(),s=m.elements.message.value.trim();if(!t||!n)return v("info","Please fill in all required fields.");console.log("Form data:",{name:t,email:n,message:s||""}),v("success","Your message has been sent!"),S(),a(),m.reset()});function D(){Q.overflow="hidden",Y.overflow="hidden"}function a(){Q.overflow="auto",Y.overflow="auto"}function S(){l.classList.remove("is-open"),a()}function v(e="success",t=""){ne[e]({icon:"",message:t,close:!1,backgroundColor:e==="info"?"#0b0500":"#e15d05",messageColor:"#ffffff",timeout:3e3,zindex:9999,progressBar:"false",position:"topRight",width:400,transitionIn:"fadeInDown",transitionOut:"fadeOutUp"})}const G=document.querySelector(".mobile-menu"),ae=document.querySelector(".btn-burger"),ce=document.querySelector(".close-header-btn"),le=Array.from(document.querySelectorAll(".mobile-nav-link")),q=()=>G.classList.toggle("is-open");ae.addEventListener("click",()=>{D(),q()});ce.addEventListener("click",()=>{a(),q()});document.addEventListener("keydown",e=>{e.key==="Escape"&&G.classList.contains("is-open")&&(q(),a())});le.forEach(e=>{e.addEventListener("click",()=>{a(),q()})});const y=document.querySelectorAll(".slide"),u=document.querySelector(".hero-swiper-btn-prev"),f=document.querySelector(".hero-swiper-btn-next");let i=0;function P(e){y.forEach((t,n)=>{t.classList.remove("active"),t.setAttribute("aria-hidden","true"),n===e&&(t.classList.add("active"),t.setAttribute("aria-hidden","false"))})}function A(){!u||!f||(u.disabled=i===0,u.classList.toggle("arrow--disabled",i===0),f.disabled=i===y.length-1,f.classList.toggle("arrow--disabled",i===y.length-1))}function V(e){e.disabled||(e.classList.add("is-active"),e.blur(),setTimeout(()=>{e.classList.remove("is-active")},100))}y.length>0&&u&&f&&(P(i),A(),u.addEventListener("click",()=>{i>0&&(i=i-1,P(i),A(),V(u))}),f.addEventListener("click",()=>{i<y.length-1&&(i=i+1,P(i),A(),V(f))}));b.defaults.baseURL="https://books-backend.p.goit.global";const de=document.querySelector(".books-list"),ue=document.querySelector(".books-show-counter"),B=document.querySelector("#categories-container"),H=document.querySelector("#page-next"),k=document.querySelector("#books-loader"),L=document.querySelector("#categories-loader"),fe=10,me=24,ge=4;let E=0,p=[],I=[],R=C();async function pe(){try{return(await b.get("/books/category-list")).data}catch(e){console.log(e.message)}}async function ye(){try{return(await b.get("/books/top-books")).data}catch(e){console.log(e.message)}}async function be(e){try{return(await b.get(`/books/category/?category=${encodeURIComponent(e)}`)).data}catch(t){console.log(t.response.data.message||t.message)}}async function ve(e){try{return(await b.get(`/books/${e}`)).data}catch(t){console.log(t.message)}}function C(){const e=window.innerWidth;return e<768?"mobile":e>=768&&e<1440?"tablet":"desktop"}function ke(e){const t='<option value="" disabled selected>Categories</option>',n='<option value="All categories">All categories</option>',s=e.map(({list_name:o})=>o!==""?`<option value="${o}">${o}</option>`:"").join("");B.innerHTML=`<select class ="books-categories-select" name="categories" id="categories-select">${t+n+s}</select>`}function Le(e){const n=[{list_name:"All categories"},...e].map(({list_name:s})=>s!==""?`<li class="categories-item" ><a class="category-link" data-category-name="${s}">${s}</a></li>`:"").join("");B.innerHTML=`<ul class="categories-list">${n}</ul>`}function he(e){de.innerHTML=e.map(({_id:t,book_image:n,title:s,author:o,price:r})=>`
        <li class="books-item" data-id=${t}>
          <img class="books-image" src="${n}" alt="${s}" />
          <div class="books-list-group">
          <div class="books-list-section"><h4 class="books-list-title">${s}</h4>
          <p class="books-list-author">${o}</p>
          </div>
          <p class="books-list-price">$${r}</p>
          </div>
          <button class="btn learn-more-btn" data-id=${t} type="button">Learn More</button>
        </li>
      `).join("")}function we(){M(),J()}function Se(){const e=C();e!==R&&(R=e,we())}function qe(e,t){ue.innerHTML=`Showing ${e} of ${t}`}async function Be(){Ae();try{I=await pe(),J()}catch{}finally{Pe()}}function J(){C()==="desktop"?Le(I):ke(I)}async function Ee(e){ee();try{p=await be(e),E=0,M()}catch(t){console.log(t.message)}finally{_()}}async function X(){ee();try{p=(await ye()).flatMap(t=>t.list_name!==""?t.books:[]),E=0,M()}catch{}finally{_()}}function M(){const e=C()==="mobile"?fe:me,t=p.slice(0,e+E*ge);qe(t.length,p.length),he(t),Te(t.length,p.length)}async function Z(e){e==="All categories"?X():Ee(e)}async function Ce(e){e.target.id==="categories-select"&&Z(e.target.value)}function Me(e){if(e.target.classList.contains("category-link")){const t=e.target.dataset.categoryName;Z(t)}}function $e(){E++,M()}function Te(e,t){e<t?H.classList.remove("visually-hidden"):H.classList.add("visually-hidden")}function xe(){Be(),X()}function _(){k.classList.contains("visually-hidden")||k.classList.add("visually-hidden")}function ee(){k.classList.contains("visually-hidden")&&k.classList.remove("visually-hidden")}function Pe(){L.classList.contains("visually-hidden")||L.classList.add("visually-hidden")}function Ae(){L.classList.contains("visually-hidden")&&L.classList.remove("visually-hidden")}xe();B.addEventListener("change",Ce);H.addEventListener("click",$e);B.addEventListener("click",Me);window.addEventListener("resize",Se);const g=new z(".feedbacks-slider",{modules:[F,K,U,W],slidesPerView:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-swiper-btn-next",prevEl:".feedbacks-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".feedbacks-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередній відгук",nextSlideMessage:"Наступний відгук"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function te(){const e=document.querySelector(".feedbacks-swiper-btn-prev"),t=document.querySelector(".feedbacks-swiper-btn-next");e.disabled=g.isBeginning,t.disabled=g.isEnd,e.classList.toggle("arrow--disabled",g.isBeginning),t.classList.toggle("arrow--disabled",g.isEnd)}te();g.on("slideChange",te);const d=new z(".events-swiper",{modules:[F,K,U,W],slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".events-swiper-btn-next",prevEl:".events-swiper-btn-prev",disabledClass:"arrow--disabled"},pagination:{el:".events-swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Попередні події",nextSlideMessage:"Наступні події"},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}}});function N(){const e=document.querySelector(".events-swiper-btn-prev"),t=document.querySelector(".events-swiper-btn-next");!e||!t||(e.disabled=d.isBeginning,t.disabled=d.isEnd,e.classList.toggle("arrow--disabled",d.isBeginning),t.classList.toggle("arrow--disabled",d.isEnd))}d.on("init",N);d.on("slideChange",N);N();new se(".accordion-container",{showMultiple:!0});const He=document.querySelector(".books-list"),oe=document.querySelector("#modal-form"),Ie=document.querySelector("#modal-backdrop"),h=document.querySelector(".backdrop"),De=document.querySelector(".modal-books-container"),Ne=document.querySelector("#modal-close"),j=document.querySelector("#modal-cover"),Oe=document.querySelector("#modal-title"),Ve=document.querySelector("#modal-author"),Re=document.querySelector("#modal-price"),je=document.querySelector(".ac-text-description");document.querySelector(".ac-text-shipping");document.querySelector(".ac-text-returns");const ze=document.querySelector("#increase"),O=document.querySelector("#decrease"),c=document.querySelector("#quantity"),Fe=document.querySelector("#add-to-cart");document.querySelector("#buy-now");const w=document.querySelector("#modal-books-loader");let $=null;async function Ke(e){const t=e.target.dataset.id;if(t)try{We(),_e();const n=await ve(t);Ue(n),$=t}catch{}finally{Ze()}}function Ue({book_image:e,title:t,author:n,price:s,description:o}){j.src=e,j.alt=t,Oe.innerHTML=t,Ve.innerHTML=n,Re.innerHTML=`$${s}`,je.innerHTML=o}function T(){h.classList.contains("is-open")&&(h.classList.remove("is-open"),a(),$=null)}function We(){h.classList.contains("is-open")||(h.classList.add("is-open"),D())}function Qe(e){e.key==="Escape"&&T()}function Ye(){const e=Number(c.value);c.value=e+1,Number(c.value)>1&&(O.disabled=!1)}function Ge(){const e=Number(c.value);e<=1||(c.value=e-1,Number(c.value)<=1&&(O.disabled=!0))}function Je(){const e=Number(c.value);console.log("Додано до кошика ",{bookId:$,quantity:e}),v("info","Додано до кошика")}function Xe(e){e.preventDefault();const t=Number(c.value);console.log("Дякуємо за покупку ",{bookId:$,quantity:t}),v("success","Дякуємо за покупку"),T(),a(),oe.reset()}function Ze(){w.classList.contains("visually-hidden")||w.classList.add("visually-hidden")}function _e(){w.classList.contains("visually-hidden")&&w.classList.remove("visually-hidden")}He.addEventListener("click",Ke);Ne.addEventListener("click",T);document.addEventListener("keydown",Qe);Ie.addEventListener("click",T);De.addEventListener("click",e=>e.stopPropagation());ze.addEventListener("click",Ye);O.addEventListener("click",Ge);Fe.addEventListener("click",Je);oe.addEventListener("submit",Xe);
//# sourceMappingURL=index.js.map
